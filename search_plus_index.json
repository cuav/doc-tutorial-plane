{"./":{"url":"./","title":"固定翼飞行器教程","keywords":"","body":"Ardupilot固定翼 概述： Ardupilot固件可以支持多种固定翼机型，包括飞翼、常规固定翼、V尾固定翼等、垂直起降VTOL等. 新手注意： 固定翼不像多旋翼那么容易入手，稍微不慎很容易炸鸡，或者能飞上去，降落不下来：） 建议玩家前期先练习模拟器不低于10个小时，才能进行实机飞行. 如何进行： 固定翼的安装和使用也很简单，主要分为几个步骤： 安装好地面站，烧录固定翼固件到飞控板 将飞控板安装到飞机上面，并插好或焊接好对应电源和信号线（电源模块、舵机、数传、电调、马达） 安装和插好线之后，开始以下校准 遥控接收机校准 加速计和罗盘校准 设置好飞行模式 初步校验舵面和电机转向是否正确 初步安装推荐参数进行初调PID 初次飞行 飞行正常后，根据飞行效果再次调参 "},"first-setup/software-installation.html":{"url":"first-setup/software-installation.html","title":"地面站/驱动安装","keywords":"","body":"安装地面站 （Mission Planner为例） Mission Planner是一款免费开源的地面站，只有Windows版本，比较成熟和稳定的一款地面站。 从这里下载最新版本的地面站 Download thelatest Mission Planner installer from here 打开安装程序文件，然后双击运行安装程序 安装地面站的时候，会自动安装驱动。 （WIN10已经内置驱动，会认为是一个标准Microsoft设备，可以正常使用） 在我们国内因为很多克隆ghost系统（精简不完整系统）的原因，导致驱动安装失败（提示系统找不到指定文件）。 这个问题，我们建议你重新安装WIN10，兼容性更好。 一直点next下一步，采用默认安装即可 如果提示DirectX导致的安装错误，你可以需要下载DirectX对应版本，先安装了DirectX才能成功安装地面站 如果提示安装驱动，选择仍然安装此驱动 Mission Planner通常安装在C: Program Files（x86） APM Planner文件夹 或C: Program Files APM Planner文件夹中。你的 日志文件文件夹 也会在这个安装目录。 打开任务计划器 安装完成后，通过单击其 图标 打开Mission Planner。 更新任务计划器 Mission Planner启动的时候会自动检测新版本（当它连接到Internet时）。 请始终更新运行最新版本的Mission Planner "},"first-setup/loading-firmware.html":{"url":"first-setup/loading-firmware.html","title":"加载固件","keywords":"","body":"PIX烧录飞行器固件 烧录固件有2种办法： 1、在线烧录：直接通过地面站连接互联网直接下载烧录 2、离线烧录: 通过网站下载固件，地面站选择固件文件进行烧录。 飞控直接的机型种类有大致分为几种： （请记住机型英文简写名字，如果需要通过网页下载固件，你需要知道对应的机型是什么） 小车：Rover 固定翼：Arduplane 四旋翼：QUAD （十字形和X形 机型都是同一个固件类型） 六旋翼：Hexa 上下四轴(八旋翼)：Octa 直升机：Heli 三轴：Tri Y6上下三轴（六旋翼）：Y6 8旋翼：Octa 一.在线烧录 把飞控用USB数据线插入电脑，打开MP地面站设置好对应的com口以及波特率点击初始设置，点击安装固件烧写的固件。注意事项： 如地面站加载的固件无版本号，那就是网络故障或地面站版本问题（请不要使用社区版或过于陈旧的地面站版本） 如在线烧录失败请选择加载自定义固件（即本地烧录）。 如固件烧写状态栏下方一直停在scanning comports/conecting进度条没有变化，请拔插一下飞控。 如提示没有检测到飞控请重新拔插飞控并检查com口是否正确。 如提示‘无需烧写固件，该固件已经在板子上了’请先烧写其他类型的固件后再烧写（如徐少些四轴可选烧写车的固件，再烧写四轴固件）。 二.本地烧录 本地烧录固件需先从网页上下载固件到本地（在MP地面站安装固件界面有‘从网页下载固件选项”），再选择对应的com以及波特率，点击加载自定义选项选择需要加载的固件。 "},"first-setup/loading-firmware/online-loading-firmware.html":{"url":"first-setup/loading-firmware/online-loading-firmware.html","title":"在线烧录固件","keywords":"","body":"通过地面站在线烧录飞行器固件（四轴为例） 将飞控USB插入电脑，在设备管理器应该能看见一个PX4 FMU的端口（每个电脑的端口号都不会一样，你的可能是COM3或者其他，这个没有关系。只要在地面站选择正确的端口既可） 打开MP地面站-选择端口 波特率不需要改变。注意，不要 点连接。不需要点 连接（否则无法烧录） 选择初始设置 - 安装固件功能选项 地面站会联网检测最新版本 获得到版本号后，在每个机型下面，具有一个版本号，比如APM:Copter V3.4.5 QUAD. 如果显示None，或者直接显示APM:Copter Stable (获取不成功，连接不到服务器) 就是获取失败，是无法烧录固件的，可以重新打开这个功能选项试试。 再不行，请尝试本地上传固件 提示：拔下控制板，点OK后再重新插入 烧录完成后，等一段时间，大概20秒，飞控会有一段音乐，等待音乐播放完成后，就点OK。完成烧录！ 初步测试是否正常 烧录完成固件后，状态大灯应该闪烁黄色或者蓝色 （如果常亮红色，请查看 硬件排除指南） 你可以点地面站连接，没有意外，应该会连接成功，摆动飞控板，姿态窗口应该也会跟随倾斜 "},"first-setup/loading-firmware/web-down-firmware.html":{"url":"first-setup/loading-firmware/web-down-firmware.html","title":"烧录本地固件","keywords":"","body":"通过网页下载固件进行特定固件烧录 固件下载地址http://firmware.ap.ardupilot.org/ 通过网页下载固件一般是为了下载最新的测试固件，有些一些玩家地面站一直获取不到版本信息，也可以用这种方法去烧录固件 小车：Rover固定翼：Arduplane四旋翼：QUAD （十字形和X形 机型都是同一个固件类型）六旋翼：Hexa上下四轴(八旋翼)：Octa直升机：Heli三轴：TriY6上下三轴（六旋翼）：Y68旋翼：Octa 以四轴稳定版本为例： 进入后选择 PX4-octa （四轴） ArduCopter-v2.px4 （V2版本，Pixhack V3是硬件选择是V2） 下载后，打开地面站-选择飞控端口号------初始设置------安装固件-----------加载自定义固件 选择下载文件下载的目录，然后打开刚刚下载的固件既可按照提示完成烧录 "},"first-setup/connect.html":{"url":"first-setup/connect.html","title":"地面站连接及使用","keywords":"","body":"地面站的介绍和使用 (主要介绍常用的2种地面站) Window版本：Mission Planner MP是APM/PIX标配地面站，经过多年的发展和优化，已经很稳定和成熟，请尽量使用最新版本地面站，因为地面站会跟随飞控固件进行优化和更改。 从这里下载最新版本的地面站 Download thelatest Mission Planner installer from here 安卓版：CUAV Hfight CUAV Hfight是由CUAV二次开发的安卓地面站，主要优化数字视频流、国内高德地图、增加对PW-LINK和Hacklink的支持 下载地址：http://fw.cuav.net/apk/ 系统要求：Android 4.4以上 QGroundControl 官方网站http://qgroundcontrol.com/ QGroundControl 是一个跨平台地面站软件，有 windows 版本 ，安卓版本，苹果版本等 windows下载地址： https://s3-us-west-2.amazonaws.com/qgroundcontrol/latest/QGroundControl-installer.exe "},"first-setup/connect/mission-planne.html":{"url":"first-setup/connect/mission-planne.html","title":"mission planner","keywords":"","body":"Misson Planner 地面站快速入门指南 什么是Misson Planner： Misson Planner简称MP，是Windows 平台运行的一款APM/PIX的专属地面站。它也是一款完全开放源码的地面站 它主要功能包括： 对APM/PIX进行烧录固件 安装、配置和优化参数 规划航点任务，可以使用google地图或者其他地图 下载和分析飞行日志 使用专用的PC飞行模拟软件接口，进行硬件模拟飞行 连接一个遥测数传，你还可以： 实时监控飞行器状态 记录一个实时遥测日志 查看和分析遥测日志 在FPV中操作无人机（第一人称视角） 主要窗口功能介绍：（详细功能，请看下级专栏） 软件版本号，连接飞控后，会同时显示飞控的软件版本号 主要功能选项区域 连接方式选择和连接断开控制 飞机仪表盘，包括姿态、高度、GPS状态、飞行模式 状态和其他辅助控制功能区域 GPS地图，连接上飞控和GPS后，会显示一个实时位置和飞行轨迹 GPS坐标和精度显示 "},"first-setup/connect/mission-planner/connect-mission-planner-autopilot.html":{"url":"first-setup/connect/mission-planner/connect-mission-planner-autopilot.html","title":"连接地面站","keywords":"","body":"使用Mission Planner 连接飞控 概述 本章节主要介绍MP地面站的连接方式 支持连接的方式： Mission Planner 支持以下连接方式： USB直接连接飞控（可以做调参和固件烧录）；地面站选择飞控的COM口后，波特率选择115200（默认） 数传连接；普通常见数传，实际也是通过usb连接，一般数传的地面端都内置了USB转串口芯片；地面站选择特定端口号，波特率一般都是57600 TCP 连接方式；一些网络TCP串口设备使用；CUAV暂时无TCP串口设备 UDP连接方式；PW-LINK和HackLink采用的就是这种通讯方式 "},"first-setup/connect/mission-planner/flight-data.html":{"url":"first-setup/connect/mission-planner/flight-data.html","title":"飞行数据","keywords":"","body":"飞行数据 介绍和使用 概述： 飞行数据 是MP地面站的默认主界面，它可以很直观的显示你的无人机状态，包括姿态、速度、高度、离家距离、GPS位置信息等等 它一共可以划分为3大功能区域： 飞行HUD窗口（左上） 状态显示和控制选项栏（左下） 地图及飞机实时位置信息（右） 下面开始详细介绍每一个区域的功能 主界面介绍视图 ： 状态显示和飞行控制栏 介绍： 快速显示栏 主要显示6个参数：当前高度 、低速、航点距离、偏航角度（航向角）、升降速度、DistToMav(无人机离家的距离) 动作控制 这个功能栏，主要是可以对无人机做实时的模式切换、任务控制、高度、速度控制原始传感器 :可以查看原始传感器的数据，做一些性能或者故障分析游戏摇杆：可以设置USB手柄映射一个遥控器通道，对飞行器进行控制（不建议使用，传统数传丢包可能导致控制不流畅） 起飞检查功能 可以帮助新手检查和判断飞行器是否能满足飞行条件比如GPS卫星数量提示、电压提示不满足会显示红色，通过为绿色还可以通过EDIT按钮，进行编辑相关提示选项和阈值 状态：详细飞行数据显示 这里可以显示所有的飞控数据，包括传感器数据，通道输入输出数据等等可以用于飞行和调试显示值都比较简单和明了，内容过多，不再一一介绍 舵机 -通道控制 舵机-虽然名字为舵机，实际也不一定是用于舵机控制实际是一个PWM通道输出控制，在多旋翼中，接了电调的通道是无法控制的可以实时控制一个空余通道的PWM值输出 遥测日志 用于加载和播放地面站记录的日志 数据闪存日志 通过Mavlink 下载闪存日志：可以USB或者数传下载飞控内部记录的飞行日志回顾日志：打开闪存日志可以做详细的分析自动分析：使用程序自动分析功能自动分析闪存日志，直接得出分析结果，可以很明了查看飞行器的震动值、罗盘等数据是否健康达标。创建KML+gpxPX4.bin转.log创建Matlab文件 脚本 加载控制脚本 消息 显示飞行器发送过来的Pre-Arm信息 "},"first-setup/connect/mission-planner/flight-plan.html":{"url":"first-setup/connect/mission-planner/flight-plan.html","title":"飞行计划","keywords":"","body":"飞行计划/任务规划 概述： 飞行计划是MP里边最重要的功能之一： 一般玩家可以用于规划最简单的飞行任务，包括对每个航点的高度控制，待留时间，相机触发、各种条件触发、通道触发、甚至自动起飞和降落规划等等 行业用户还可以做测绘规划等等 这里主要讲解的为MP地面站的任务规划功能，但是其他地面站的航点规划理念其实都是很类似的 "},"first-setup/connect/mission-planner/flight-plan/common-planning-a-mission-with-waypoints-and-events.html":{"url":"first-setup/connect/mission-planner/flight-plan/common-planning-a-mission-with-waypoints-and-events.html","title":"航点命令和事件","keywords":"","body":"mission planner规划航点及任务 本文介绍的方法适用于apm固件类型飞行器。 设置家的位置 对于直升机/多旋翼,家的位置为解锁起飞的位置。如果飞行器执行rtl返航将返回到解锁起飞的位置，所以需要把飞行器放置在您想降落的位置。 对于固定翼，家的位置为首次获取到的gps定位位置，如果执行rtl将返回首次获取到gps定位的位置。 可以在地面站地图上移动“home”图标更改和设置家的位置。 说明 在下面的截图中，一个直升飞机的任务是从20米的自动起飞开始; 然后去航点2上升到100米的高度，然后等待10秒钟; 那么飞行器将进入航点 3（途中降至50米高度），然后返回起始点。 由于默认海拔高度为100米，所以返回到100米。 返回到到起始位置后，飞行器将着陆。 任务假设起始位置设在家的位置。 您可以输入航点和其他命令（有关详细信息，请参阅下面的任务命令部分）。在每行的下拉菜单中，选择所需的命令。列名称将会更改，以显示该命令需要哪些数据。可以通过点击地图输入纬度和经度。海拔高度是相对于你的起始高度/家的位置，所以如果你设置100米，例如，它将飞行100米以上。 默认Alt是输入新航路点时的默认高度。它也是RTL（返回启动）模式飞行高度，如果你有设置默认ALT，该高度就是rtl飞行高度;如果您没有设置，您的飞机将尝试维持开启RTL时的高度。 verify alt(验证高度）意味着任务规划器将使用Google Earth拓扑数据在每个航路点调整所需的高度，以反映下面的地面高度。所以如果你的航路点在山上，如果选择了这个选项，任务计划员将根据山的高度增加你的航点设置。这是一个很好的方法，以确保你不会撞到山！ 规划好任务后，选择写入，并将其发送到APM并保存在EEPROM中。您可以通过选择“读取”来确认它是您想要的。 通过右侧按钮可以保存航行任务，加载航行任务，方便重复执行任务。 提示 预取：您可以下载离线地图。单击“地图工具”按钮》预读取航点路径（离线地图），然后按住Alt键绘制一个框以下载所选位置的图像。 绘制多边形：这允许您绘制多边形（右键单击），并自动在所选区域上创建航点。 快捷绘制多边形航线：鼠标右键菜单》绘制多边形》增加多边形点的绘制一个多边形》自动航点》simple grid然后点击Grid菜单，在弹出的窗口填入每个航点距离高度》确认，然后在定义在每个航点的动作。 将您的家庭位置设置到当前位置：追踪器的家》设置在这，它将将您的家庭位置设置为当前坐标。 Auto grid ：Auto grid功能可以生成“割草机”轨迹，以收集当地的图片。在地图上选择鼠标右键，选择多边形绘制需要的区域，选择auto WP--Grid菜单，按照对话框自动处理高度和距离，将自动生成如下网格航点（操作跟快捷绘制多边形形航线一致： 任务指令：在地图的下方有表格的列表，将按当前飞行器类型产生指令列表，并增加一列航向参数需要用户提供。这些指令包括：导航到航点，临近盘旋，执行特殊动作（如拍照等）和条件指令.任务指令：在地图的下方有表格的列表，将按当前飞行器类型产生指令列表，并增加一 列航向参数需要用户提供。这些指令包括：导航到航点，临近盘旋，执行特殊动作（如拍照等）和条件指令。全部的指令在Mavlink Mission Command Messages 定义。 任务指令参考 MavLink协议定义了大量的Mav_cmd 航点指令（通过MavLink_mission_item_message传递），飞控板处理这些指令和命令行参数，这些命令必须是与指定飞行器相关的，无效指令将被忽略。 每种飞行器只执行相关的命令和命令行参数，不相关的指令忽略不执行，可能还有些有用的命令行参数没有被处理，由于消息大小限制。 指令分类：navigation导航命令用于控制无人机移动，包括：起飞，移动到航点，改变 飞行姿态，着陆；DO动作命令：辅助功能，不影响飞行位置，比如相机快门，抛投伺服等；2. Condition条件命令，用于延迟DO命令，至到条件满足，例如：UAV达到指定高度和指定航点的距离条件。对于指定航点，一般先执行NAV导航指令，只到完成导航任务或在航点一定误差范围内，然后在执行一些列DO命令当条件完成后。  Mission Planner支持的旋翼机指令： [ ] MAV_CMD_MISSION_START：启动当前任务，自动（不用油门），参数：无 [ ] MAV_CMD_COMPONENT_ARM_DISARM：电机上电或掉电，参数：1，2 [ ] MAV_CMD_NAV_WAYPOINT：移动到指定航点，7个参数：2，5，6，7 [ ] MAV_CMD_NAV_RETURN_TO_LAUNCH：返回Home point或Rally Point,参数：无 [ ] MAV_CMD_CONDITION_DELAY：抵达航点后，延迟执行DO命令，参数：1 时间长度：s [ ] MAV_CMD_CONDITION_DISTANCE：抵达当前航点指定的距离范围内，参数：1 距离 [ ] MAV_CMD_DO_CHANGE_SPEED：改变目标水平速度或油门，参数：2 速度 [ ] MAV_CMD_DO_SET_HOME：动作，设置Home Point位置，参数：1，5，6，7 [ ] MAV_CMD_DO_SET_SERVO：动作，设定给定的伺服输出管脚PWM,参数：1，2 [ ] MAV_CMD_DO_SET_RELAY：动作，设定指定输出管脚高/低电平 参数：1，2、 [ ] MAV_CMD_DO_REPEAT_SERVO：给指定输出管脚指定pwm和中立波，按指定周期循环次 数，参数：1-管脚号 2-pwm 3-repeat# 4-cycle(s) [ ] MAV_CMD_DO_REPEAT_RELAY：给指定输出管脚指定高地电平，按指定周期循环次数， 参数：1-管脚号 2-pwm 3-repeat# 4-cycle(s) [ ] MAV_CMD_DO_DIGICAM_CONFIGURE (Camera enabled only)： MAV_CMD_DO_DIGICAM_CONTROL (Camera enabled only)： MAV_CMD_DO_SET_CAM_TRIGG_DIST (Camera enabled only)： MAV_CMD_DO_SET_ROI：指定云台指向区域，参数：5，6，7 [ ] MAV_CMD_DO_SET_MODE：设置系统模式，preflight,armed,unarmed,参数：1 [ ] MAV_CMD_DO_JUMP ：切换到指定航点多次，参数：1，2 [ ] MAV_CMD_NAV_TAKEOFF：起飞指令，所有任务的第一次指令，参数：7 [ ] MAV_CMD_NAV_LAND：着陆，指定区域，参数：5，6 需退出Auto模式，切断动力 MAV_CMD_NAV_LOITER_UNLIM：飞到指定区域，然后盘旋，参数：5，6，7 [ ] MAV_CMD_NAV_LOITER_TURNS：指定区域盘旋，给定盘旋半径，参数：1，5，6，7 MAV_CMD_NAV_LOITER_TIME：指定区域盘旋，给定盘旋时间，参数：1，5，6，7 [ ] MAV_CMD_CONDITION_CHANGE_ALT ：按指定爬升或降落速度改变至指定高度，参数：1，7。 [ ] MAV_CMD_NAV_SPLINE_WAYPOINT：按照曲线形式航行到指定位置，参数：15，6，7 MAV_CMD_CONDITION_YAW：航向更改，参数：1，3，4 [ ] MAV_CMD_DO_MOUNT_CONTROL：控制相机云台，参数：1，2，3 pitch,roll,yaw度数 [ ] MAV_CMD_DO_PARACHUTE(Parachute enabled only) [ ] MAV_CMD_DO_GRIPPER(EPM enabled only) [ ] MAV_CMD_DO_GUIDED_LIMITS(NAV_GUIDED only) [ ] MAV_CMD_NAV_GUIDED_ENABLE(NAV_GUIDED only) 3 相机控制与自动操作  相机快门和云台指令 3 个通道  在飞行器移动的间隔时间或指定的航点上执行快门动作， 如果相机安装在云台上， 还可 以控制云台的指向  对于简单的应用， 可以手动控制航点和快门指令， 对于复杂的测绘任务， 自动生成任意 区域的指令任务。  云台指令 :DO_SET_ROI 云台指向指定区域， DO_MOUNT_CONTROL 云台控制到 roll ， pitch,yaw 方向  伺服指令： DO_SET_SERVO:DO_SET_RELAY 给指定的驱动信号 "},"first-setup/connect/mission-planner/configtuning.html":{"url":"first-setup/connect/mission-planner/configtuning.html","title":"配置/调试","keywords":"","body":"mission plnner配置/调试界面 配置/调试界面是您配置您的自动驾驶仪如何控制您的飞行器的参数的地方。调试是指调整控制回路中的参数，使您的飞行器按照您的期望行事。大多数这些参数都是默认参数，但有些参数必须在首次飞行之前设置。 每个菜单项都会显示一个新的界面，每个界面都会展示更加详细的参数接。 plnner 如果自动驾驶仪是或未连接，您将只看到此菜单项目。这是您设置Mission Planner工作方式的大部分选项的地方。具有视频设备，视频格式，osd颜色、遥测日志存储位置，你想使用的度量单位等。基本Pid 如果自动驾驶仪已连接，您将看到此菜单项。 飞行模式 如果自动驾驶仪已连接，您将看到此菜单项（imission plnner1.3.50或以上版本） 标准参数 如果自动驾驶仪已连接，您将看到此菜单项。您可以设置部分重要参数 地理围栏 如果自动驾驶仪已连接，您将看到此菜单项。可以载该界面设置您的地理围栏。 高级参数 如果自动驾驶仪已连接，您将看到此菜单项。您可以设置在这个界面设置部分高级参数 完整的参数列表 （数） 如果自动驾驶仪已连接，您将看到这两菜单项。这两项为飞控全部参数调试界面。 "},"first-setup/connect/cuav-hfight.html":{"url":"first-setup/connect/cuav-hfight.html","title":"CUAV Hfight","keywords":"","body":"CUAV Hflight 概述 CUAV Hflight是由CUAV二次开发的安卓地面站，是Tower的优化版本 支持USB 、蓝牙、WIFI的连接方式，支持CUAV家族的全系列数传产品、包括 ONE BOX 蓝牙数传 HACKLINK： 高清数字链路 PW-LINK： WIFI链路 CUAV RADIO：SIK 点对点数传，可选433、915频段，功率100mw、250mw、500mw CUAV XB RADIO：250mw 点对点数传，内置DIGI S3B进口模块 CUAV XTEND RADIO:1W点对点数传，内置DIGI XTEND 1W模块 http://fw.cuav.net/apk/HFlight.apk "},"systemcomposition.html":{"url":"systemcomposition.html","title":"系统组成","keywords":"","body":"固定翼系统组成： 通常一个固定翼无人机组成包括以下硬件： 机架及动力系统部分： 数字舵机 X4 动力马达 X1 电子调速器 X1 动力电池 飞行控制系统及周边： Pixhack V3 无人机控制系统 CUAV GPS 全球定位系统模块 无线数传模块（3DR/WP-LINK/XBEE/XTEND/Hacklink数字链路）可选 IV检测模块（标配） cuav空速传感器 云台及相机： 三轴无刷云台（增稳独立控制，控制可以由飞控或者接收机信号） 或者 舵机云台（增稳和控制都靠飞控） GOPRO或者其他运动相机 其他可以扩展的硬件： 超声波传感器 激光高度传感器 CAN总线电调 SB智能电池 RTK 差分GPS "},"first-setup/assermbly.html":{"url":"first-setup/assermbly.html","title":"组装飞行器","keywords":"","body":"组装飞行器 支持机型： Pixhack 通过写入不同的固件可以支持不同的机型 包括：传统固定翼、飞翼、垂直起降机等固定翼及其他旋翼机 本章节主要讲解固定翼为主 一个固定翼飞行器的构成： 固定翼机架 X1（必须） 动力马达 X1（必须） 无刷电子调速器（电调/ESC） X1（必须） PixHack V3 飞控 X1（必须） CUAV GPS X1（必须） 无线数传（CUAV RADIO/XBEE/XTEND/HACKLINK/WP-LINK） X1对 （必须） 动力电池（必须） 数字空速计（必须） RC遥控器和RC接收机（必须） 无刷云台或者相机（可选） 超声波或者激光传感器（可选） 光流定点传感器（可选） 支持电池类型： 使用标配的CUAV IV模块，支持标准2-6S动力电池 IV模块支持2-6S电压、0-60A电流 实时监测 可选cuav hv_pm高压模块，支持标准3-14s动力电池 hv_pm支持3-14s高压模块，0-60a电流实时监测 它能飞多高多远: 不管是高度还是距离，我们都不建议你超过视距飞行 否则你可能面临触发相关地区法律，自行承当一切后果！ 理论上： 需要实时控制能飞行的高度和距离:跟动力续航时间、遥控器或者数传通讯距离有关 自主飞行的高度和距离：跟动力、续航时间有关 "},"calibration/rc-calibration.html":{"url":"calibration/rc-calibration.html","title":"2.遥控器校准","keywords":"","body":"RC遥控器校准 概述： RC遥控器是一个用于直接控制飞行器的设备，校准是为了记录相关通道的最大值和最小值，因为每个遥控器的通道范围都是有差异的。 遥控器控制类型： 遥控器一般常见的一共有3个控制模式： Model1 日本手：左边的摇杆控制 Pitch俯仰 和 YAW方向，右边的摇杆控制 Throttle油门和ROLL横滚 Model2 美国手：左边的摇杆控制 Throttle油门 和YAW方向，右边的摇杆控制 Pitch俯仰和ROLL横滚 Model3 中国手：左边的摇杆控制 Pitch俯仰和ROLL横滚 ，右边的摇杆控制 Throttle油门 和YAW方向 每种手法都有自己的优势，看个人习惯，没有最好的手法，只有最适合自己的手法 PS:听说很多直升机高手都是用 中国手，而真飞机飞行采用的是美国手 控制标准 MODEL1日本手 示意图 MODEL2美国手 示意图 通道使用 多旋翼默认只用了一共5个控制：4个控制通道、1个切换模式通道 其他没有使用的通道可以外接其他设备或者闲置不用 发射机的旋钮应控制通道6用于飞行中调试。通道7与通道8开关可用于控制辅助功能。 校准过程： 1、拆掉螺旋桨和电池，确保安全第一 2、调整遥控器，确认机型为多旋翼或者固定翼。不要开任何的混控或者油门曲线 3、调整遥控器，保证4个主要控制通道均在中立点 4、使用USB或者数传连接飞控板。 开始校准： 初始设置-必要硬件-遥控器校准 INITIAL SETUP-Mandatory Hardware>>radio calibration 电机绿色的 校准遥控器 按钮：弹出对话框 提示 没有电池和螺旋桨，选择OK 摆动遥控器摇杆和切换通道开关，4个通道和第五通道radio5的红线应该会对应移动，直到达到最小值和最大值 电机校准完成，所有的通道值会自动显示出来。 注意：标准数值的1100-1900，特别是油门通道，不要过低或者过高，以免出现异常 "},"calibration/compass-calibration.html":{"url":"calibration/compass-calibration.html","title":"3.GPS罗盘校准","keywords":"","body":"Compass电子罗盘校准 PixHack V2/ PIXHAWK 内置1个板载电子罗盘，可以外接一个外部电子罗盘，一共有2个罗盘 PixHack V3内置了2个板载电子罗盘，可以外接一个外部电子罗盘，一共可以由3个罗盘GPS是不需要设置和校准的校准的是GPS内置的电子罗盘 校准第一步：（校准必须飞控及GPS装上飞行器，并固定好才能进行） 在地面站-初始设置-必要硬件-电子罗盘 Pixhack/PIXHAWK飞控均选择PIXHAWK/PX4选项 Compass #1罗盘配置是 不需要设置 的，采用 默认值（常规安装方式） 罗盘序号对应硬件型号：有外置GPS罗盘时：#1 HMC5983（GPS集成） #2 LSM303D（板载） #3 MPU9250/HMC5983（板载）无外置GPS罗盘时：#1 LSM303D（板载） #2 MPU9250（板载） 如果需要禁用对应罗盘，在对应框 Use this compass 去掉勾 即可！如果出现了罗盘不一致，也可以禁用内置罗盘试试 COPTER 3.4以上固件版本，支持机载校准方式，校准程序运行在飞控板上面，这种方法相比旧的球形方式更准确 CUAV强烈推荐使用板载校准的方式，特别是V3版本的飞控，采用板载校准很更准确，旧的球形校准，很容易出现采集数据量不够的问题，导致经常报 罗盘不一致 PS: 之前的版本，校准采用的是 地面站计算 飞控过来的罗盘数据，通过地面站程序计算得出数值，写入到飞控。 执行上的校准: 点击“记载罗盘校准”部分的“开始”按钮 如果你的飞行控制器有蜂鸣器上你应该听到单音其次是每秒一次短的哔哔声 保持车辆在空中旋转,这样每一方(前、后、左、右,顶部和底部)点瞄准地球几秒钟 等待进度条一步一步往右填满，直到校准我完成。 校准完成后，蜂鸣器会发出来三声，地面站会有提示重启飞控板，重启后既可完成校准！ 如果校准失败: 你会听到故障声，绿色进度条会重置到最左边，校准程序可能会重新启动。 如果经过多次尝试都无法校准，你需要把fitness下拉选项，改为default或者very strict 。再重新校准试试 目前固件可能无法使用3组罗盘进行校准可以尝试禁用#3罗盘 "},"calibration/accelerometer-calibration.html":{"url":"calibration/accelerometer-calibration.html","title":"4.加速计校准","keywords":"","body":"加速计校准 校准步骤： 在地面站 初始设置-必要硬件-加速计校准 校准方式有2种 1：3轴校准（六面校准） 2:单轴校准（平面校准） 如果飞行器太大或者不方便，可以选择单轴校准 点击 校准 ACCEL 加速计 开始校准 根据提示放着你的飞控板或者飞行器，放到指定方向后，点击next 下一步既可 会提示Place vehicle level and press and key放平飞控后点一下 按键 校准位置：水平---左边---右边---机头朝下---机头朝上---背面朝上（一共六个面），校准成功会提示 校准成功! 如果校准失败，一般是方向放错了。重新来一次既可 注意： 在按下 下一步的时候，飞行器或者飞控板必须要静止不动 如果飞行器太大，不方便，建议单独拆下飞控进行校准 水平位置是最重要的，这决定了飞控姿态的水平基准点 校准成功的提示： 注意：3.4以上固件支持校准水平，校准完加速计之后建议校准一下水平，点击校准水平》飞控指示灯快闪，校准完成。 完成了校准加速计和罗盘后，建议重新上电，不然可能出现一些异常的报错 "},"calibration/mode-setup.html":{"url":"calibration/mode-setup.html","title":"5.飞行模式设置","keywords":"","body":"飞行模式设置 通过遥控器接收机设置飞行模式，默认最多能设置6种飞行模式 新手建议建议使用3个模式就足够了，不然切换起来会很混乱，也是导致炸鸡的一个重要因素，CUAV大量玩家总结） 设置步骤： 通过USB或者数传与地面站连接 在初始设置--必要硬件--飞行模式功能选项 拨动遥控器第五通道（固定翼默认为第八通道）的段式开关，看每一个档位对应的模式位置，可以下拉选择该位置的飞行模式，然后点击保存模式。 新手建议：使用一个增稳模式Stablize，定高模式Althold 先练手飞行 如果不会变动，请观察 当前PWM会不会变动，或者是否变动太小。 每个模式均有一定的PWM范围，如果超不出这个范围，模式是不会变动的，这个需要设置一下遥控器菜单 一共有14种模式，可以看下一章节，飞行模式介绍，理解每一个模式的含义和作用 一般一个三段开关只能切换3种模式。（3个开关只能切换出3种PWM值），可以通过混控的方式混出6种模式 "},"calibration/power-module.html":{"url":"calibration/power-module.html","title":"6.PM模块设置","keywords":"","body":"CUAV标准电压电流检测及供电模块 这个页面主要介绍PIXHACK飞控标配的PM模块如何设置和使用 概述： Pixhack在附件中，会标配一个PM模块，支持35V电压输入及60A电流检测 它主要有3个功能： 提供5.2V电压输出及最大3A电流 给飞控供电 检测当前电压输出模拟信号给飞控 检测当前系统电流输出模拟信号给飞控 因为PIX飞控ADC最大检测电压为3.3，所以最大只能支持60A电流检测 它的使用很简单，带有芯片的面向你，左边是接电池，右边是接负载（马达 电调） 6P的信号线插入到飞控的POWER接口 地面站设置： 使用USB或者数传连接到地面站 初始设置>>可选硬件>> 电池检测器 选择 监控器：4；传感器 4；硬件类型版本（pixhawk: 4, apm :0)-》切换到其他画面，断开地面站连接，关闭软件，飞控断电重启，重新连接地面站-观察地面站电流电压显示是否正确（不准确进行手动校准） 手动校准： 因为PM模块是模拟传感器器件，都可能会存在一定的差异性可以校准参数获得比较好的准确性校准前准备：1：万用表或者BB响 （校准电压使用）2：高精度的可控负载源如数字负载（校准电流使用）如果没有数字负载，只能校准电压（一般玩家都没有，不校准的话，一般误差都在1-3A左右）校准电压步骤：1：使用电池供电，以及连接上地面站2：使用万用表或者BB响测量当前电池电压3：选择 传感器版本 为0，在测量的电池电压 输入 当前测量出来的电压 填进去框里，随便点一下鼠标或者按一下TAB键，地面站会自动计算一个分压比系数和自动保存写入到飞控4：校准完成，不校准电流的话， 安培每伏不要去改变，默认是18.0018 "},"calibration/esc-calibration.html":{"url":"calibration/esc-calibration.html","title":"7.ESC电调校准","keywords":"","body":"ESC电子调速器校准 电子调速器负责使电机运行在飞控所请求的旋转速度。 多数电调需要校准，这样它们才能知道飞控发出的最小与最大的PWM范围值。这个页面提供校准电调的操作说明。 关于电调校准： 每个电调可能校准方式都有所差异，具体需要查看电调说明书，有可能音调或者提示方式不同，不过一般都是大同小异。 校准： 校准检查: 确保你已经把电调装好了飞机，并插好好了相关信号线到飞控。 校准必须拆除螺旋桨! 不要连接地面站 校准之前，请确认摇杆通道打到最高为油门最大 请确保遥控器可以解锁（固定翼默认只有gps定位后才可以解锁，一般建议到户外进行校准） 校准步骤: 给飞控供电，电调 不上电（桨一定要卸掉了） 切换到手动飞行模式 解开安全开关（如果未禁用） 遥控器解锁电机 将遥控器上的油门杆移至最大 给电机上电 ESC /马达应该发出哔哔两声，表明它处于ESC校准模式。 两秒之内将油门打到最低 ESC应该发出哔声，表示已经接受了新的校准范围 ESC自检提示声 缓慢提高油门，检查电机是否正确响应 "},"first-setup/configuration/common-airframes.html":{"url":"first-setup/configuration/common-airframes.html","title":"机身安装指南","keywords":"","body":"常见机身配置值 这个页面为普通的机身提供了一些近似的配置值。 注意 这些值足以“让你的飞机离开地面”。 为获得最佳性能，您仍然需要为您的飞机调整这些参数。 配置值 - 不是完整的文件 我们不提供完整的配置文件，因为我们不想鼓励在APM用户之间共享完整的配置文件。 正确的调整值取决于你已经安装了什么类型的伺服（不同的伺服系统响应不同的速度），你连接控制器伺服哪个接口 正确的值也取决于您的RC发射器设置，特别是每个控制轴的移动范围 正确的调谐值还取决于您安装的电机和电池，并且取决于您的飞机的总起飞重量。如果一个用户安装了摄像头，而另一个用户则不需要，那么他们可能需要不同的调整值。 制造商通常会对机身，伺服电机和电机进行更改，而不会将机身重新命名为新的机型。有时甚至会改变舵机移动的方向 不同的用户有不同的可选传感器，这会改变需要的配置选项。例如，一些用户安装空速传感器或外部指南针。 新的APM固件版本会频繁更改某些关键参数的默认值，以避免用户发现问题。如果您从旧固件的用户加载配置文件，那么这将恢复这些更改 所以，你可以做什么？ 如果另一个用户已经调整了类似的飞机，那么你可以查看他们的配置文件，找到他们使用的关键调整参数，并手动将这些值放入APM作为调整的起点。你应该寻找的关键参数是： RLL2SRV_P PTCH2SRV_P NAVL1_PERIOD 将这些设置为大致正确的值将为您调整机身提供合理的起点。之后，你应该遵循调整指南。 另请注意，固定翼参数默认为零“I”值。原因是你需要先调整P值，然后调整I值。如果在P值较大的情况下输入一个非零的I值，那么飞机可能会发生剧烈震荡并可能发生碰撞。 一旦你有良好的P值，那么你应该提高I值一点，如调整指南中所述。这将允许APM更好地处理风。例如，一旦P值设置正确，设置以下内容将对大多数飞机有所帮助： RLL2SRV_I：0.05 PTCH2SRV_I：0.05 HobbyKing Bixler v1或v2 Bixler v2有一个稍大的机翼和更坚固的机身。 关键参数 RLL2SRV_P：0.9 PTCH2SRV_P：1.0 NAVL1_PERIOD：18 Bixler Tips Seethis postingfor how to fit an APM to a Bixler2. Also seeHigh Quality Bixler 1.1 Build (APM2.x). Heavy Bixler’s fly much faster and are prone to tip stalling if slowed up too much, so keep things as light as possible! A stall in FBWA can be tricky to get out of. Autopilots do not handle stalls well. Set manual level with a little bit of positive pitch - take your time to set this, fly and repeat as many times as it takes to get a super stable cruising speed with the lowest throttle setting possible. It takes a little while to work out what pitch and throttle combination give the most stable cruising flight. Set closer to 50% throttle for cruise (but obviously depends on your set up). Perform some test flights in FBWA mode and figure out minimum throttle setting /speed that is still stable. You can “feel” a tip stall coming with enough practice. To recover from the stall, change quickly to Manual mode and then: wings level and pull out slowly. Test with enough height to see how fast the plane needs to be going in each mode. Also be sure to always add sufficient throttle when heading downwind to keep airspeed up. If you prefer to keep the airframe flat you can, in FBWA mode, use only rudder for turning. APM does a great job of keeping the the plane level in turns (with proper speed of course). Make sure that target throttle in full autopilot mode is 10% above throttle settings that were figured out using methods above for mission cruising. If setting a target speed in auto make sure it’s fast enough for the plane and its payload. Skywalker Skywalker Available infoamorfibreglass. Current versions have longer wings (1.9m instead of 1.68m). The skywalker has relatively small ailerons for the size of the aircraft, so you will probably need quite high gains. The following parameters will be a good starting point for most users: RLL2SRV_P: 1.8 PTCH2SRV_P: 1.5 NAVL1_PERIOD: 20 HobbyKing Skyfun Skyfun Availablehere The SkyFun and FunJet are similar, and are quite “twitchy” planes. A small amount of elevon movement goes a long way! The following values should be a good starting point: RLL2SRV_P: 0.4 PTCH2SRV_P: 0.45 NAVL1_PERIOD: 17 Multiplex EasyStar Easystar Availablehere The easystar is unusual in not having ailerons. If you are buying a new plane it would be better to get a bixler2, which is a similar size and cost, but flies a lot better. If you do want to fly an easystar then you will need to set a KFF_RDDRMIX, along with the other key parameters. For example: RLL2SRV_P: 0.55 PTCH2SRV_P: 0.6 KFF_RDDRMIX: 0.5 NAVL1_PERIOD: 20 Borojet Maja Borojet Maja Availablehere. The following parameters should be a good starting point: RLL2SRV_P: 1.4 PTCH2SRV_P: 1.3 NAVL1_PERIOD: 16 TELINK Toro900 flying wing The following values should be a good starting point: RLL2SRV_P: 1.2 PTCH2SRV_P: 2 NAVL1_PERIOD: 18 SkyWalker X8 The X8 varies a lot in how people set it up, but you usually need parameters around this range: RLL2SRV_P: 0.8 PTCH2SRV_P: 0.5 NAVL1_PERIOD: 19 Phoenix Tiger60 The Tiger60 is usually flown as a nitro plane, plus it has relatively small ailerons and elevator surfaces. A good starting point will be the following parameters: RLL2SRV_P: 1.2 PTCH2SRV_P: 1.2 NAVL1_PERIOD: 15 THR_PASS_STAB: 1 THR_SUPP_MAN: 1 THR_SLEWRATE: 30 HotDog The HotDog is a fun sports plane that flies like it is “on rails”. The one in the picture has an OS25 Nitro engine. It flies well with the following parameters: RLL2SRV_P: 0.35 PTCH2SRV_P: 0.6 NAVL1_PERIOD: 14 THR_PASS_STAB: 1 THR_SUPP_MAN: 1 THR_SLEWRATE: 30 Boomerang 60 The Boomerang is a classic high wing trainer aircraft, and like the Tiger60 has relatively small control surfaces. The following parameters will be a good starting point: RLL2SRV_P: 1.1 PTCH2SRV_P: 1.2 NAVL1_PERIOD: 20 THR_PASS_STAB: 1 THR_SUPP_MAN: 1 THR_SLEWRATE: 30 Mugin The Mugin is a large, fast aircraft. Make sure you have a long enough runway for landing! The following parameters should be a good starting point: RLL2SRV_P: 1.0 PTCH2SRV_P: 1.3 NAVL1_PERIOD: 19 THR_PASS_STAB: 1 THR_SUPP_MAN: 1 THR_SLEWRATE: 30 PA Addiction The Precision Aerobatics AddictionX is a fun 3D aircraft. It flies quite slowly, but can do extremely rapid rolls and loops due to its huge control surfaces. The APM flies it fine with the right parameters. The following parameters will be a good start: RLL2SRV_P: 0.35 PTCH2SRV_P: 0.6 PTCH2SRV_D: 0.04 NAVL1_PERIOD: 13 RipMax AcroWot The AcroWot is an intermediate nitro sports plane, and a lot of fun to fly! With an OS55AX motor it flies well with the following parameters: RLL2SRV_P 1.0 PTCH2SRV_P: 0.9 NAVL1_PERIOD: 13 TRIM_THROTTLE: 35 TechPod The TechPod is a long endurance electric glider, ideal for longer distance photography. It flies well with the following parameters: RLL2SRV_P: 1.5 PTCH2SRV_P: 1.5 NAVL1_PERIOD: 17 ARSPD_FBW_MIN: 9 ARSPD_FBW_MAX: 20 TRIM_AIRSPEED_CM: 1200 "},"first-setup/rudder-inspection.html":{"url":"first-setup/rudder-inspection.html","title":"舵面检查","keywords":"","body":"舵面检查 飞机起飞前需要检查副翼及尾舵设置是否正确，下面主要讲述正确的舵面反馈及如何修正错误的反馈。 常规固定翼 请给飞控供电，并解开安全开关（如果有） 把飞行模式设置成手动（manual） 站在机尾，朝向飞机头部 副翼杆往右打，右副翼向上，左副翼向下，飞行时，飞机将向右倾斜飞行 副翼杆往左打，右副翼向下，左副翼向上，飞行时，飞机将向左倾斜飞行 升降杆往上，尾舵向下，飞行时，飞机将俯冲下降 升降杆向下，尾舵向上，飞行时，飞机将抬头爬升 方向杆向右，方向舵向右，飞行时，飞机将右转弯 方向杆向左，方向舵向左，飞行时，飞机将向左转弯 把飞行模式设置成FBWA模式 飞机往右倾放置，右副翼往下，左副翼向上 飞机往左倾放置，右副翼向上，左副翼向下 飞机机头往上放置，尾舵向下 飞机机头往下放置，尾舵向上 V尾固定翼 V尾固定翼与传统固定翼本质上就是使用两个v尾舵机混控，代替传统固定翼的升降舵（第二通道）和方向舵（第四通道），所以设置方法大致一样 请给飞控供电，并解开安全开关（如果有） 把飞行模式设置成手动（manual） 站在机尾，朝向飞机头部 副翼杆往右打，右副翼向上，左副翼向下，飞行时，飞机将向右倾斜飞行 副翼杆往左打，右副翼向下，左副翼向上，飞行时，飞机将向左倾斜飞行 升降杆往上，v尾同时向外，飞行时，飞机将俯冲下降 升降杆向下，v尾同时向内，飞行时，飞机将抬头爬升 方向杆向右，左尾舵向右上；右尾舵向右下，飞行时，飞机将右转弯 方向杆向左，左尾舵向左下，右尾舵向左上，飞行时，飞机将向左转弯 把飞行模式设置成FBWA模式 飞机往右倾放置，右副翼往下，左副翼向上 飞机往左倾放置，右副翼向上，左副翼向下 飞机机头往上放置，v尾同时向内 飞机机头往下放置，v尾同时向外 飞翼 只有两个副翼舵机，为了实现升降和转向，我们需要设置升降舵与副翼进行混控。 请给飞控供电，并解开安全开关（如果有） 把飞行模式设置成手动（manual） 站在机尾，朝向飞机头部 副翼杆往右打，右副翼向上，左副翼向下，飞行时，飞机将向右倾斜飞行 副翼杆往左打，右副翼向下，左副翼向上，飞行时，飞机将向左倾斜飞行 升降杆往上，副翼舵机同时往下，飞行时，飞机将俯冲下降 升降杆向下，副翼舵机同时往上，飞行时，飞机将抬头爬升 把飞行模式设置成FBWA模式 飞机往右倾放置，右副翼往下，左副翼向上 飞机往左倾放置，右副翼向上，左副翼向下 飞机机头往上放置，副翼同时向下 飞机机头往下放置，副翼同时向上 "},"first-setup/elevon-planes.html":{"url":"first-setup/elevon-planes.html","title":"elevon planes","keywords":"","body":"飞翼 飞翼（也称为三角翼）因其简单性和坚固性而受到欢迎。典型的飞翼有2个伺服输出和1个油门输出。 飞翼设置 在开始设置之前，请拆下螺旋桨并确保遥控器没有设置混控。 飞翼需要设置升降与副翼混控，设置参数如下（AP3.8及以上版本固件）： 参数 数值 定义 SERVO1_FUNCTION 77 左升降副翼 SERVO2_FUNCTION 77 右升降副翼 SERVO3_FUNCTION 70 油门 确认舵面反馈 请给飞控供电，并解开安全开关（如果有） 把飞行模式设置成手动（manual） 站在机尾，朝向飞机头部 副翼杆往右打，右副翼向上，左副翼向下，飞行时，飞机将向右倾斜飞行 副翼杆往左打，右副翼向下，左副翼向上，飞行时，飞机将向左倾斜飞行 升降杆往上，副翼舵机同时往下，飞行时，飞机将俯冲下降 升降杆向下，副翼舵机同时往上，飞行时，飞机将抬头爬升 把飞行模式设置成FBWA模式 飞机往右倾放置，右副翼往下，左副翼向上 飞机往左倾放置，右副翼向上，左副翼向下 飞机机头往上放置，副翼同时向下 飞机机头往下放置，副翼同时向上 如舵面反馈不对请按照下方说明设置输入/输出反向 遥控输入信号反向 这种设置方法适用于FWBA模式下舵面检查正常，但手动模式下两舵机舵面反馈都是错误的情况。 设置方法#1： 打开遥控器校准界面，勾选对应通道右边的反转复选框，切换到其他界面，即写入到飞控。 设置方法#2： 在配置/调试界面的全部参数表中查找到RCx_ "},"flight-modes.html":{"url":"flight-modes.html","title":"飞行模式介绍","keywords":"","body":"Flight Modes 飞行模式介绍 本文概述多旋翼的飞行模式的介绍 概述 固定翼一共有13个主要模式，14个特定任务模式。 飞行模式可以通过遥控器第八通道控制，也可以通过GCS地面站进行发送命令更改 遥控器和地面站都可以同时控制飞行模式，通常以最后一个命令为准 常用模式 MANUAL 手动模式 STABILIZE 增稳模式 FLY BY WIRE_A (FBWA)线性A增稳 FLY BY WIRE_B (FBWB）线性B增稳 AUTO 自动模式 Return To Launch (RTL) 返航模式 LOITER 定点模式 TAKEOFF Mode 自动起飞模式 LAND Mode 降落模式 主要模式 MANUAL 手动模式 STABILIZE 增稳模式 FLY BY WIRE_A (FBWA) 线性A增稳 FLY BY WIRE_B (FBWB) 线性B增稳 AUTOTUNE 自动调参模式 TRAINING 训练模式 ACRO 特技模式 CRUISE 巡航模式 AUTO 自动模式 Return To Launch (RTL) 返航模式 LOITER 定点模式 CIRCLE 盘旋模式 GUIDED 指导模式 指定任务模式 当飞行器使用自动模式时有一些使用任务项目设置的子模式。两个主要的子模式是自动起飞起飞和降落。 MANUAL Mode STABILIZE Mode FBWA Mode (FLY BY WIRE_A) FBWB Mode (FLY BY WIRE_B) AUTOTUNE Mode TRAINING Mode ACRO Mode CRUISE Mode AUTO Mode RTL Mode (Return To Launch) LOITER Mode CIRCLE Mode GUIDED Mode TAKEOFF Mode LAND Mode "},"flight-modes/manual-mode.html":{"url":"flight-modes/manual-mode.html","title":"MANUAL 手动模式","keywords":"","body":"手动模式 RC直接控制飞行器，飞控不做控制信号处理，所有的rc 输入信号直接传送到输出端。除以下情况外： 触发了故障保护或地理围栏，并且飞控接管飞行器。 如果启动VTAIL_OUTPUT选项，那么固件VTAIL混合器被应用在输出上。 如果启用ELEVON_OUTPUT选项，则在输出端应用固件Elevon混合器 "},"flight-modes/stabilize.html":{"url":"flight-modes/stabilize.html","title":"STABILIZE简单增稳模式","keywords":"","body":"增稳模式 RC经过飞控简单的增稳，如果你放掉摇杆飞机会自动平飞，该模式会使飞机的倾斜与转圈等机动变得困难. 最好使用FBWA模式替代飞机的增稳。 在增稳模式下，油门受到THR_MIN和THR_MAX设置的限制。 注意 增稳模式不是用于调整控制回路的好模式。 使用FLY BY WIRE_A（FBWA）就好多了。 "},"flight-modes/fbwa.html":{"url":"flight-modes/fbwa.html","title":"FBWA线性A增稳模式","keywords":"","body":"线性A增稳 这是在固定翼上最受欢迎的辅助飞行模式，也是新手练习的最佳模式。在这种模式下，固定翼飞行器将保持由控制杆指定的横滚和俯仰。因此，如果您拨动副翼杆，则飞机保持指定的侧倾限制LIM_ROLL_CD（以厘米为单位）及和纵倾限制LIM_PITCH_MAX/ LIM_PITCH_MIN。 需要注意的是控制水平不意味着飞机能控制高度，主要是由飞行速度（油门）控制，如果想要高度保持，需要用FBWB模式。 FBWA油门是手动控制，输出量范围由THR_MIN和THR_MAX限制。 在FBWA模式下，方向舵控制是手动换和飞控协调混控。 "},"flight-modes/fbwb.html":{"url":"flight-modes/fbwb.html","title":"FBWB线性B增稳模式","keywords":"","body":"线性B增稳（定高） 类似于FBWA，但能够定高。侧倾和俯仰同FBWA模式，并利用油门控制空速。俯仰摇杆变化就会改变高度，放开后飞控试图保持目前的高度。多大的水平角反应依赖于FBWB_CLIMB_RATE参数，默认为2米/秒。FBWB_ELEV_REV 参数的默认值是向后拉摇杆导致飞机攀升。如果设置为1，则动作会相反。如果装了空速计，调整空速范围ARSPD_FBW_MIN 到ARSPD_FBW_MAX，当油门最低时飞机将尝试在ARSPD_FBW_MIN飞行。最高时它会尝试在ARSPD_FBW_MAX飞行。 如果没有空速计，油门将调整输出量以达到所需定高要求。油门杆最好大过计算要求的值，也 会导致飞的更快方向舵跟FBWA 一样，是协调混控 "},"flight-modes/auto.html":{"url":"flight-modes/auto.html","title":"AUTO自动模式","keywords":"","body":"Auto 自动模式 根据地面站航点飞行，如果需要副翼及水平方向在飞行中可以改变 （开启Stick_MIXING)，模式跟FBWA相似。 "},"flight-modes/rtl.html":{"url":"flight-modes/rtl.html","title":"RTL返航模式","keywords":"","body":"自动返航模式 在RTL模式下，飞机将返回到家的位置（假设它具有GPS锁的飞机的起飞点），并在那里停留，直到手动控制（或者燃料用尽！）。 与AUTO模式一样，您也可以使用摇杆与飞控自主控制混合控制飞机。 RTL模式的目标高度是使用以厘米为单位的ALT_HOLD_RTL参数设置的。 "},"flight-modes/loiter.html":{"url":"flight-modes/loiter.html","title":"LOITER定点模式","keywords":"","body":"Loiter 定点模式 飞机启动Loiter模式开始定点绕圆圈飞行，半径根据WP_LOITER_RAD参数，并且被NAV_ROLL_CD 参数限制，及受到NAVL1_PERIOD影响。与rtl和自动模式一样，可以使用遥控器与飞控自主控制混控来操作飞机。 警告 “家”的位置总是应该是你的飞机的实际起飞的gps锁定位置位置： 为了使RTL，Loiter，Auto或任何GPS相关模式正常工作，在解锁前获取优良的GPS锁定非常重要。 飞机的家的位置最初是在飞机获得GPS锁定时建立的。然后，只要自动驾驶仪上锁，它就会不断更新。 这意味着如果你在飞机上执行一个RTL，它将返回到解锁的位置 - 假设它已经获得GPS锁定。 考虑使用Rally Points来避免直接返回到RTL上的解锁点 "},"flight-modes/acro.html":{"url":"flight-modes/acro.html","title":"Acro特技模式","keywords":"","body":"Acro 特技模式 能像手动模式做出特技，且又同FBWB能够定高。做出翻滚及螺旋依赖ACRO_ROLL_RATE及ACRO_PITCH_RATE, 默认值是180度/ 秒，并响应着摇杆行程量。飞机会一直保持高度，如果RC输入30度的侧倾及10度的纵倾后放开摇杆，飞机就保持在这个高度上，即便是倒飞的状态下。 所以这个模式很容易失速，需要及时切换到手动模式。 "},"flight-modes/cruise.html":{"url":"flight-modes/cruise.html","title":"Cruise巡航模式","keywords":"","body":"Cruise巡航模式 巡航模式有点像FLY BY WIRE_B（FBWB），但它有“航向锁定”。这是远距离FPV飞行的理想模式，您可以将飞机指向远处的物体，并准确地跟踪该物体，自动控制高度，空速和航向。 它的工作方式是这样的： 如果你有副翼或方向舵输入，那么它就像FBWB一样飞行。因此，它保持高度，直到您使用升降杆更改目标高度（以FBWB_CLIMB_RATE速率），并根据油门调整空速。 当你松开副翼和方向舵超过0.5秒时，它会在你当前的位置设置一个内部航点，并且向前一公里处投射一个目标航点（注意，如果你有GPS锁定，方向锁定将被激活，地面速度至少3米/秒）当它沿着目标航点飞行时，不断更新目标，使其始终位于前方一公里处，而将前一个航点作为以副翼和方向舵为中心的位置 只要你不碰副翼或方向舵，它就会运行相同的导航系统，因此，即使面对风况变化，它也能准确地保持地面的路线 巡航模式的一个更好的方面是如何处理方向舵。如果你给它一些方向舵，那么侧倾控制器将保持机翼水平，但是飞机将会与方向舵一起偏航。所以你得到一个“机翼水平”转弯，让你旋转你的飞行指向你想要朝着什么地理特征。那么当你放开方向舵时，它就会直线前进。 "},"flight-modes/circle.html":{"url":"flight-modes/circle.html","title":"Circle绕圆模式","keywords":"","body":"Circle 绕圆飞行 类似于游荡式绕圈，不像Loiter能保持固定位置。主要作为故障保护模式；默认情况下，当失控保护触发时进入该模式， 20秒后切换到RTL。考虑失控时的保护故意不依赖GPS定位，倾斜角被设定为LIM_ROLL_CD除以3，以尽量保证飞机保持稳定。当开始启动时会控制油门及水平角来保持盘旋高度。 "},"flight-modes/guided.html":{"url":"flight-modes/guided.html","title":"Guided指导模式","keywords":"","body":"指导模式 当你想要飞机飞到地图上的特定点而不设置任务时，使用“引导”模式。 大多数地面控制站都支持“点击飞行”功能，您可以点击地图上的一个点，飞机将飞往那个位置然后游荡。 GUIDED模式的另一个主要用途是在地理围栏中。 当地理围栏被攻破时，飞机将进入引导模式，并且前往预定义的地理围栏返回点，在那里它将闲置，直到操作员接管。 "},"flight-modes/takeoff.html":{"url":"flight-modes/takeoff.html","title":"Takeoff起飞模式","keywords":"","body":"起飞模式 自动起飞仅由任务控制脚本设置。起飞任务指定起飞俯仰和目标高度。起飞期间飞机将使用由THR_MAX参数设置的最大油门。当飞机达到任务中指定的目标高度时，起飞任务项目被视为完成。 起飞前，重要的是飞机指向风，并与跑道对齐（如果使用轮式起飞）。飞机在起飞过程中将试图保持其航向，起飞航向是在起飞开始时由飞机的方向设定的。强烈建议为自动起飞启用和正确配置指南针，因为用GPS航向起飞可能导致航向控制不良。 如果您正在使用轮式飞机，那么您应该查看WHEELSTEER_ * PID设置来控制地面转向。如果您正在手动启动或使用弹射器，则应查看TKOFF_THR_MINACC和TKOFF_THR_MINSPD参数。 "},"flight-modes/land.html":{"url":"flight-modes/land.html","title":"Land降落模式","keywords":"","body":"LAND模式 “自动着陆”仅由任务控制脚本设置。 油门和高度由自动驾驶仪控制。 在距离目标高度或距目标着陆点LAND_FLARE_SEC越来越近的LAND_FLARE_ALT后，飞机将会以“百分点”的速度飞到LAND_PITCH_CD的距离，并且将保持朝向近地。 建立可靠的自动起飞和着陆飞机是非常依赖机身的，建议你首先获得一些在FBWA模式下飞行的经验，并且在你使用前几次准备接管手动或FBWA模式的控制 自动起飞或着陆。 您还应该查看完整的参数列表，因为有许多参数可以帮助控制不同情况下的起飞和着陆。 "},"pre-arm.html":{"url":"pre-arm.html","title":"Pre-arm报错信息分析","keywords":"","body":"Pre-Arm 安全检查程序 APM：Copter多旋翼 固件内部有一套非常完善的Pre-Arm安全检查提醒机制，会检查你的飞行器是否有大量问题，包括各种未校准，已经是否传感器已经出现损坏，当然这解锁检查机制也不是百分百可靠的，你可以通过在全部参数列表Arming-check 禁用他 使用GCS地面站查看Pre-Arm错误信息 在闪烁黄色灯时，使用者会无法解锁，而且解锁时蜂鸣器也会长鸣2下。此时你必须连接上地面站，才能排除究竟是什么问题导致了不能解锁和飞行，一般通常是 传感器未校准 或者出现了失控保护、低压设置不正确等等，下面会详细分析每种报错内容: 阅读下面内容前，请确保你已经使用并连接地面站、做了飞控板校准以及会简单使用遥控器。如果还不会，请查看之前的章节：） 飞控板已经连接好遥控器接收机，并拆除螺旋桨和动力电池 通过USB或者数传（WP-LINK\\3DR\\XBEE\\XTND）连接上地面站（电脑地面站：Mission Planner或者安卓：CUAV Hfight） 打开你的遥控器，并试图解锁[解锁通道是：油门最低 (3通道）、YAW最右（4通道）] 此时，在地面站窗口应该可以看见红色的Pre-Arm 错误提示，如果没有，一般是解锁通道不正确导致飞控无法感知你的解锁操作 解锁失败的提示信息： 检测不到接收机的信号输入 解决方案： 1：如果是使用PPM编码器小板，检查一下PPM编码器 蓝色状态灯是否还会闪烁（可以判断PPM编码器是否还在工作） 2：如果使用SBUS和PPM接收机，检查接收机设置是否正确 3：有可能飞控硬件固件，需要返厂检修，一般可能性比较小 BAD AHRS（姿态错误） 校准空速计或者校准加速计 Bad or no terrain Data（没有或者坏的地形数据） 无gps定位或者定位精度不够高（hdop需要低于0.8） RC not calibrated （遥控器未校准） 遥控器还未校准，或者范围不在飞控记录值内，通常都是设置了遥控器或者换了遥控器导致，请重新做校准既可 RC3油门通道MIN最小值及MAX最大值理想范围是1100-1900. 而其他通道最小值不要大于1300和最大值不要小于1700。理想值也是1100-1900 电子罗盘常见错误提示： Compass not healthy（电子罗盘不健康） 电子罗盘不健康的提示，也有可能是没有数值或者硬件损坏 也有可能环境温度低于0下，可能会导致罗盘传感器没有数值 解决方案： 重新上电 如果温度过低，请做好保温措施，重新上电 在地面站-状态检查罗盘数值是否正确 MX1 MY1 MZ1 \\MX2 MY2 MZ2 Compass not calibrated（罗盘没有校准） 罗盘没有校准，或者罗盘被移除和新增，都会提示罗盘未校准 解决方案： 安装好罗盘后，重新做校准 Compass offsets too high （罗盘偏移值太高） 主罗盘的偏移值(i.e. sqrt(x^2+y^2+z^2)) 大于500，就会提示这个，一般情况都是飞控或者GPS附近有磁性物体（马达、螺丝、电池等）导致，或者环境有比较强的磁场干扰。 解决方案： 请排除干扰后重新上电 重新换一个位置安装飞控或者GPS，重新校准 换一个环境试试 Check mag field （检查罗盘磁场） 如果在室内、或换了不同环境、或附近有磁干扰可能会提示这个错误 解决方案： 如果换了环境，重新做校准即可 如果在室内或者有干扰源，离开干扰源即可 Compasses inconsistent：（罗盘不一致） 内部罗盘和外部罗盘指向不一致（>45度）。这通常是外部罗盘方向设置不正确导致（compass_orient） 解决方案： 重新做校准即可。选择PX4 校准，方向不用选择 GPS常见故障： GPS Glitch（GPS故障） / Need 3D Fix (需要3D定位) 如果GPS未定位成功或者没有GPS.而且使用了需要GPS的飞行模式(Loiter Poshold)或者电子围栏被启动，就会提示这2个错误信息 解决方案： 如果没有安装GPS或者在室内飞行，请切换到不需要GPS的相关 等待GPS被3D FIX定位 NO GPS 没有检查到GPS硬件：检查连接线 NO FIX没有3D锁定，请把飞行器和GPS放在室外无遮挡的地方 Bad Velocity：（坏的速度） 一般是GPS飘逸速度过快，高于50CM/S 这个问题可能是移动速度过快，或者加速计没有正确校准，或者GPS刷新率低于5HZ。 解决方案： 等待GPS卫星锁定更多数量。HDOP小于1.5 High GPS HDOP：（HDOP精度过高） 卫星定位精度HDOP过高，一般是卫星数量不够导致 解决方案： 放在室外无遮挡环境。等待几分钟，卫星锁定更多后 HDOP在地面站这个位置可以看见 INS检查（例如加速计和陀螺仪检查） INS not calibrated：（INS加速计没有校准） 加速计没有校准，或者校准不正确 解决方案： 重新校准加速计。查看校准加速计章节 Accels not healthy（加速计不健康） 这可能是一个硬件问题，也有可能是刷了固件之后，马上启动飞控，也会提示这个错误 解决方案： 重新上电飞控板，并重新连接 联系CUAV技术支持部门解决 Gyros not healthy（陀螺仪不健康） 陀螺仪数据跳动比较厉害，数值不在范围、没有数据，这也可能是一个硬件问题，或者上电时没有静止，导致的报错 解决方案： 放平不动，重新上电 如果尝试重新上电几次还是有问题，请联系CUAV技术部门进行排除 Gyro cal failed （陀螺仪校准失败） 一般是上电时（在红蓝灯闪烁时，被断了电源。或者数值超过峰值也会导致这个错误信息 解决方案： 重新放平上电 Gyros inconsistent：（陀螺仪不一致） 2个陀螺仪的旋转利率相差20度/秒以上，这有可能是一个硬件故障，或者是陀螺仪标定不正确 解决方案: 重新上电 联系CUAV技术部门 主板电压检查 Check Board Voltage：（检查主板电压） 当主板电压低于4.3 高于5.8V时，就会出发Check Board Voltag 使用过低的USB电压供电也会触发。 如果这是从一个电源模块供电，都会提示检查主板电压，这可能是一个严重的问题 解决方案： 检查供电电压是否在5V左右 使用CUAV IV 模块供电或者标准的5V电压模块 Check FS_THR_VALUE ：（检查失控油门值） 当前油门值过低，已经触发了失控保护 解决方案： 检查遥控器油门通道设置，正常值不要低于1100，最合适的值是1100+-5 检查地面站-失控保护设置-油门值是否设置的过高 ACRO_BAL_ROLL/PITCH: ACRO_BAL_ROLL参数高于自稳 roll的P值和/或ACRO_BAL_PITCH参数高于稳定pitch的P值。 这可能导致飞行员无法控制ACRO模式的倾斜角度，因为Acro Trainer的稳定将会超过飞行员的输入。 关闭安全解锁检查： 如果你觉得报错是无意义的，而且又影响你的解锁飞行，你可以通过地面站去关闭他。 飞控连接到地面站（使用usb或者数传） 配置/调试 选项>标准参数 ARMING_CHECK选择disable > 写入参数 "},"arming-disarming.html":{"url":"arming-disarming.html","title":"解锁和上锁","keywords":"","body":"解锁飞机 在你飞行之前，你需要解锁。在飞行前对飞机进行锁定有两个目的： 当飞行员没有准备好飞行时防止电机转动（一个安全功能） 在自动驾驶仪完全配置并准备飞行之前，防止起飞 在过去的APM版本中：固定翼锁定是可选的，默认情况下禁用锁定要求（由ARMING_REQUIRED参数控制）。在3.3以后的固件中，默认是锁定的。 解锁的关键是启用电机。在飞机解锁之前，您将无法启动电机（即控制油门）。 注意：如果您启用了AHRS_EKF_USE（您正在使用EKF），则在解锁前启用解锁检查很重要。没有解锁检查，可能会出现ekf失效导致飞行异常甚至炸机。 配置锁定 有三个参数来控制锁定如何工作： ARMING_REQUIRE：这将控制是否需要锁定。默认值是1，这意味着起飞前需要锁定。如果设置为0，则不需要锁定。 ARMING_CHECK：这将控制在允许解锁之前检查自动驾驶仪的功能。默认值是1，表示所有的检查都完成了。大多数用户应该把它设成1，因为解锁检查是重要的，以确保自动驾驶仪各项设备正常运行。 ARMING_RUDDER：该参数允许您配置基于方向舵的解锁和上锁。默认值是1，这意味着你可以用向右打杆解锁和上锁。如果你设置为2，你也可以用往左打杆上锁和解锁。如果将此设置为0，则只能通过地面站进行上锁/解锁。 如何解锁 当你准备好飞行时，你可以解锁电机。 这可以通过两种方式来完成： 遥控器解锁， 将方向杆打到最右，并将油门杆打到最低保持两秒。 GCS武装。 按下地面站上的布防按钮。 如何上锁 由于APM：固定翼3.4.0，可以使用遥控器上锁：保持油门在最低和向左舵2秒。在ArduPlane飞行中，飞行员可能会意外触发这种情况，所以在上锁之前还有其他要求： 您需要通过将ARMING_RUDDER参数更改为2（ArmOrDisarm）来允许方向舵上锁。 飞手需要确保飞机没有飞行。并且空速为0，否则可能无法上锁。 您也可以使用以下方法之一 使用电调进行上锁： 使用地面站发出上锁命令 使用飞机上的安全开关（在Pixhawk上） 自动降落后，如果飞机仍然在地面上，飞机将在20秒后自动上锁（由LAND_DISARMDELAY参数控制） 蜂鸣器和安全开关状态指示 如果自动驾驶仪已上锁，但以及配置好（包括gps已定位），主LED灯闪绿色。 如果自动驾驶仪已经解锁，主LED常亮绿色。 当自动驾驶仪解锁时，蜂鸣器会有“滴”的长音 当自动驾驶仪上锁时，蜂鸣器响“滴滴”两声。 解锁检查 在允许解锁之前，自动驾驶仪会检查一组条件。所有的条件必须通过才允许借宿。如果任何条件失败，那么解锁失败错误信息发给GCS（地面站）。 执行的检查是： 安全开关。在允许解锁之前，必须将PX4安全开关设置为安全关闭状态。这可以通过按住安全开关2秒直到它停止闪烁，或者通过设置BRD_SAFETY_ENABLE = 0来禁用安全开关 气压计检查。气压计必须健康（获取良好的数据） 惯性传感器检查。加速度计和陀螺仪必须都是健康的，都要进行校准。如果你有多个加速器或陀螺仪，那么他们需要保持一致。 AHRS检查。 AHRS（姿态参考系统）需要被初始化并准备就绪。请注意，如果您启用了EKF，则启动后可能需要30秒。 指南针检查。所有罗盘都必须进行配置和校准，并且需要保持一致（如果您有多个指南针） GPS检查。你需要有一个3D的GPS定位。 电池检查。电池电压必须高于故障安全电压（如果已配置） 空速检查。如果您配置了空速传感器，则传感器需要工作。 日志检查。日志子系统需要工作（即必须安装microSD并在PX4上工作） RC控制检查。遥控器已校准且没有触发失控保护。 锁定时油门输出 当飞机锁定时，油门通道不会响应飞行员的输入。您可以配置两种可能的行为： ARMING_REQUIRE = 1。锁定时，油门通道的最小值（通常为RC3_MIN）将被发送到油门通道 ARMING_REQUIRE = 2。锁定时，没有pwm信号发送到油门通道。请注意，有些电调会发出蜂鸣声，提示没有pwm型号。 解锁失败 如果您的飞机拒绝解锁，要诊断故障问题，请遵循本指南 检查飞机是否已经配置好（解锁前请确保硬件已经校准完成，包括加速计，陀螺仪，罗盘，遥控器；并且有良好的gps定位） 固定翼飞机，已经配置好，飞控主led会闪绿色灯。 如报bad ahrs，请校准空速计，并重新上电，等待。 尝试解锁 尝试用你的GCS（地面站）发送一个arm命令。如果解锁被拒绝，则会从自动驾驶仪向GCS发送一条消息，指出拒绝解锁的原因。 遥控器解锁 如果您使用遥控器解锁失败并且地面站没有提示错误，请检查遥控器是否校准，或飞控收到的遥控信号不是油门最低，方向舵最高。 解锁失败地面站提示详解 "},"aircraft-starter/aircraft-starter.html":{"url":"aircraft-starter/aircraft-starter.html","title":"飞机启动及校准","keywords":"","body":""},"failsafe.html":{"url":"failsafe.html","title":"失控保护","keywords":"","body":""},"failsafe/radio-failsafe.html":{"url":"failsafe/radio-failsafe.html","title":"遥控器失控保护","keywords":"","body":"RC遥控器失效保护 概述： RC接收机油门失控原理： 一般遥控器接收机都有油门失控功能，就是当接收机接收不发发射机过来的信号时，油门通道（第三通道）会自动切换到一个低于1000 PWM的值（例如950）。飞控板读取到第三通道为950值的时候，就认为RC遥控器已经失控，从而切换对应的保护模式：如 RTL返回起飞点或者AUTO自动继续飞行 如何会触发RC 油门失控保护以及会发生什么： 如果正确设置了油门失控保护，它的启动条件是： 飞行器超出RC遥控通讯范围。 关闭遥控器发射机 接收机出现了异常 当油门故障保护被触发，飞行器会执行以下操作： 没有任何操作：飞行器都还未解锁（这个是很多玩家遇到的问题，怎么失控了，模式怎么还不会变。其实就是因为你没解锁） 电机上锁：在自稳模式或者特技模式，而且油门为最低值 返航：如果在飞行中，而且GPS锁定而且离家超过2米 降落：如果GPS为锁定或者离home点在2米内 FSTHRENABLE 参设被设置为总是 降落 （Enabled Always Land） 如果失控保护被清除了，飞行模式也不会被改变，会保持失控后的模式。如果你想重新控制他，需要手动进行切换模式 接收机与飞控板设置： 接收机设置： 每个品牌的设置都不一样，具体都要参照说明书-失控保护部分的介绍，如果你的接收机不具备油门失控保护功能，就无法使用油门失控保护功能，设定前，请参考RC遥控器说明书了解设置方式和是否具备功能 失控后，油门通道设定为965，这个是一个理想值，请按标准值进行设置，减少不必要的麻烦：） 失控后，其他通道应该保持中值 飞控板设置： 使用地面站设置之前，请确保已经设置要你的遥控器和接收机 断开电池，使用USB进行连接地面站 Initial Setup 初始设置 >> Mandatory Hardware 必要硬件 >> Failsafe 失控保护. “故障保护选项”为“Enabled_always_RTL”或“Enabled_continue_in_auto_mode”让你想自动执行任务时，可以超出发送/接收范围（一般来说不推荐)。 测试发射机：你可以尝试关闭发射机，看看RADIO3是否已经跌落到965左右，打开发射机又恢复正常值。如果是，说明RC发射机设置的正常的。 测试失控保护是否正常开启：（去掉螺旋桨进行） 测试#1：使用增稳模式解锁，不要推油门，然后关闭遥控器发射机，飞行器应该马上上锁，然后红色LED开始闪烁提示已经丢失发射机。 测试#2：油门高于0，确保飞行模式切换为“返航”或“降落”。 切换到自稳模式，解锁电机，推高油门至中间位置。 关闭发射机。 如果你GPS锁定了，飞行模式切换到RTL，或着如果没有GPS锁定，切换至“模式”（飞行模式和GPS锁定状态在Mission Planner的飞行数据窗口显示）。 测试#3：油门故障保护发生后，重新获得控制。 接着测试#2，重新打开遥控器。 飞行模式仍然是“返航”或“降落”，电机已解锁，切换飞行模式开关至其位置，然后再切换为自稳模式。 确保故障保护页面的飞行模式正确更新了。 遥控器通道失控保护 当接收机不具备油门失控保护时，可以设置通道失控切换模式（RTL AUTO等） 这个是一个折中的办法，实际不太推荐使用这个方式，不太稳定 市面上的遥控器基本都带通道失控保护功能 设置过程（设定RTL为例）： 连接地面站-初始设置-必要硬件-飞行模式：设定一个RTL模式，如 PWM 1900 设置RC遥控器通道失控保护，保持第五通道失控后在1900的值，即为RTL模式，其他通道保持中值就可以了 "},"failsafe/battery-failsafe.html":{"url":"failsafe/battery-failsafe.html","title":"电池保护","keywords":"","body":"电池低压保护 概述： 电池故障保护，可以设置一个阈值，电压或者保留电量值，让飞控自动执行RTL或者降落操作 使用电池故障保护，必须使用一个 电压电流传感器 才能设置和起效。 电池故障保护启动条件： 如果正确设置了电池故障保护，启动条件是： 电压低于设置值，超过10秒 剩余容量低于设置保留值 如果保护被触发，将会发生什么： 什么都不会发生：如果飞行器没有解锁 自动上锁：如果在增稳模式或者特技模式，油门为最低值 返航——如果在自动模式，已获得GPS锁定，并且离“家”的位置2米以上 降落——在所有其他情况下 设置电池失效保护： 在地面站-初始设置-必要硬件-故障保护 FailSafe 设置一个电池电压阈值（根据电池电压进行设置，例如3S可以设置10.5-10.8） 保留容量mah 不建议使用，这可能是不准确的，请设置0，如果不开启。 设置切换的模式，如果RTL返航 或者 LAND降落 "},"failsafe/gcs-failsafe.html":{"url":"failsafe/gcs-failsafe.html","title":"GCS地面站丢失保护","keywords":"","body":"GCS地面站丢失保护 概述： 在飞行过程中如果地面站GCS与飞控板断开了（超过数传距离或者地面站死机故障），可以根据你的设置进行 RTL返航或者继续完成飞行任务 丢失地面站将会发生以下操作： 飞行器锁定：如果你在增稳模式或者特技模式，而且油门是最低值 RTL：如果你的GPS已经锁定而且离home点距离超过2米 降落：如果没有GPS锁定或者离家距离低于2米 继续完成飞行任务：如果你是在自动模式和设置了GCS失控保护为选项2(Enabled_continue_in_auto_mode) 如果触发了GCS丢失保护后，GCS又重新连接上了，这不会清除故障保护，还需继续失控后的飞行模式（如RTL），如果你想夺回飞机控制权，你需要手动认为切换到你想要的模式 设置GCS丢失保护： 在地面站--配置调试--全部参数 列表 FS_GCS_ENABLE参数 0是禁用GCS保护 1 丢失GCS后，启动RTL返航模式 2 当前模式为AUTO，会继续完成飞行任务计划，否则执行RTL返航模式 "},"failsafe/ekf-dcm-check-failsafe.html":{"url":"failsafe/ekf-dcm-check-failsafe.html","title":"EKF / DCM检查","keywords":"","body":"ËKF / DCM检查故障安全 直升机3.2增加了一个DCM航向检查和一个EKF（检查，以捕捉由于航向估计值不佳而造成的飞行)。 注意 从直升机3.3开始，EKF故障安全取代了GPS故障安全。 什么时候会触发？ 在所有主板上默认运行DCM检查，并在GPS隐含航向和DCM的估计航向至少60度（可配置DCM_CHECK_THRESH参数）达一整秒时触发。 EKF检查仅在Pixhawk/pixhack上运行，并且仅在EKF被用作姿态和位置估计的主要来源（即AHRS_EKF_USE = 1）时才运行。当EKF的指南针和速度“方差”高于0.8（可用EKF_CHECK_THRESH参数配置）一秒钟时，将触发此检查。随着估计变得不可信，这个“差异”会增加。 0 =非常值得信赖，> 1.0 =非常不值得信任。如果两个差异均超过EKF_CHECK_THRESH参数（默认值为0.8），EKF / Inav故障安全触发器。 当故障安全触发器会发生什么？ Pixhawk的LED将闪烁红黄色，声音警报将会响起。 如果遥测附带“EKF方差”将出现在HUD上。 EKF / DCM错误将被写入到数据闪存日志中 如果在不需要GPS的飞行模式下飞行，则无法进一步发生，但是在故障清除之前，您将无法切换到自动驾驶飞行模式（Loiter，PosHold，RTL，Guided，Auto）。 如果在需要GPS（Loiter，PosHold，RTL，Guided，Auto）的模式下飞行，车辆将切换到“先导控制”LAND。这意味着飞行员可以控制侧倾角和俯仰角，但是飞行器会下降，降落，最后解除电机的控制。飞行员可以像总是切换到手动飞行模式，包括稳定或AltHold将飞行器控制返航。 调整灵敏度或禁用检查 DCM和EKF检查和故障安全可以通过任务计划程序的配置/调整>>完整参数列表将DCM_CHECK_THRESH或EKF_CHECK_THRESH设置为“0”来禁用。或者，可以通过将此参数从0.8增加到0.9或1.0来使其变得不那么敏感。增加这个参数的值的缺点是，在一个不良的指南针或全球定位系统导致飞行故障时，飞行器将自动切换到降落模式之前仍然飞行。 "},"failsafe/simple-geofence.html":{"url":"failsafe/simple-geofence.html","title":"简单电子围栏","keywords":"","body":"简单的电子围栏 在APM:COPTER 3.0以上的版本，新加入了一个 简单的电子围栏保护系统，以HOME点为中心的简单“锡罐”形状电子围栏，可以防止你的飞行器超过设定半径和高度，从而触发对应保护模式，比如RTL回家，或者LAND降落。可以通过地面站去设置。 类型： Cricle：半径范围限制 Altitude：高度限制 Altitude OR Cricle :高度和距离限制 动作： Report only: 当飞行器超过了设定的电子围栏边界范围，在地面站会提示超过围栏范围 适合使用手机APP软件的玩家 RTL OR LAND: 当飞行器超过了设定的电子围栏边界范围，飞行器将执行RTL或者LAND操作 If the vehicle strays outside these borders it will switch into RTL or LAND. At the moment the fence is breached a backup fence is erected 20m further out (or up). If the copter breaches this backup fence (for example if the the vehicle is not set up correctly or the operator takes control but is unable to bring the copter back towards home) the copter will be switched into RTL again (and another backup fence an additional 20m further out will be created). 可以通过以下方式设置 简单电子围栏： 将PIX飞控使用USB或者数传连接到Mission Planner 配置/调试>>>地理围栏 勾上启用 框 类型设置你想要的限制类型：Cricle半径限制或者Altitude 高度限制 动作：超过限制执行的操作 max alt 最高高度限制：设置最大高度 最大半径：最大的半径距离 返航最低高度：根据飞行环境设置一个理想的返航高度 通过通道7或者通道8开启电子围栏功能： 如果你想通过通道开关来开启和关闭电子围栏，可以这样操作：（新手不建议，容易混乱出错） 提前已经设置好并校准好了一个CH7或者CH8通道开关，在你的遥控器上面 转到Mission Planner>>配置/调试>>扩展调参 设置一个CH7或者CH8，选中Fence功能 （i.e. PWM值大于1800为开启，低于1800为关闭） 警告： 最小建议围栏半径为30米 围栏要求GPS运行良好，因此在启用围栏时不要禁用GPS布防检查， 也不要使EKF失效保护，相反，如果禁用这些检查，请禁用 电子围栏。 为了获得最佳效果，请确认RTL是能正常使用的。 启用电子围栏，解锁之前，飞控板将检查GPS是否锁定，否则无法解锁，并报错。 如果未启用GPS故障保护，并且启用了电子围栏，并且在飞行时GPS信号丢失或者GPS故障，则将自动禁用电子围栏。 如果启用GPS故障安全并且启用Fence并且飞行时您失去GPS锁定，则飞行器将切换到LAND 无论飞行模式如何，都会发生这种情况。 如果不需要LAND序列，则导频可以通过移动飞行模式开关重新进行控制。 备份栅栏创建20米从上一个破裂的栅栏不是20米外的车辆的位置。 这意味着如果您选择覆盖围栏，您可能有不到20米重新获得车辆控制，在护栏再次将飞行器切换到RTL（或LAND）之前。 如果你想覆盖围栏，你应该准备好两次切换飞行模式，或者设置启用/禁用围栏开关。 "},"failsafe/polygon-fence.html":{"url":"failsafe/polygon-fence.html","title":"多边形围栏","keywords":"","body":"多边形围栏 概述 直升机3.4（及更高版本）包括支持多达84点的多边形围栏。 这个围栏的目的是试图通过启动一个RTL来阻止你的飞行器飞出多边形内的区域，如果在Loiter模式下飞行，飞行器通常会在突破围栏之前停下来。 这个功能是简单的圆形围栏的扩展。 在mission plnner中启用围栏 将您的飞行控制器连接到Mission Planner 进入配置/调整| 地理围栏屏幕 单击“启用”并将类型设置为“polygon\"选项 将行动设成“RTL或降落” 转到飞行计划界面 在地图上单击右键并选择“绘制多边形”>>“添加多边形点” 点击地图上的其他点来定义多边形 多边形定义完成后，您必须单击鼠标右键并单击“极限范围”>>“设置返回位置”。 这个位置实际上并不是由直升机使用的，但是它必须被设置，因为和Plane一样使用了相同的底层库。 使用鼠标右键单击并点击“极限范围”上传多边形围栏到飞行器>>“上传” 本文英文参考：http://ardupilot.org/copter/docs/polygon_fence.html "},"failsafe/crash-check.html":{"url":"failsafe/crash-check.html","title":"碰撞撞击保护","keywords":"","body":"碰撞/撞击 保护 目前软件已经内置了 碰撞/撞击 检测功能，在飞行器可能失控并撞击地面的情况下，该功能会自动将电机进行锁定，这减少了飞行器的损坏，并且降低对附近人员及财产二次伤害的可能性。 碰撞检查何时会将电机锁定： 当以下所有情况都超过2秒时： 飞行器已经解锁 飞行器没有着陆（as far as it can tell） 当前飞行模式不是ACRO活着FLIP 飞行器没有超过3CM/S的速度 实际倾斜角已经偏离期望的倾斜角值超过30度 没有上螺旋桨的时候，解锁后 推油门打杆，也会导致触发碰撞检查保护：电机自动停止，飞行器锁定 当碰撞检查被激活的时候，会发生什么： 飞控板自动上锁，马达停转 在地面站消息提示“Crash: Disarming” 碰撞检查 在日志会写入一个崩溃事件（EV 12 红色错误） 什么情况需要关闭它： 一般来讲，不建议用户关闭碰撞检查。 如果是特殊用途的用户： 用于牵引线的无人机、或者无人机滑雪等 飞行器经常倾斜角超过30度误差维持1秒以上的情景，建议关闭碰撞检查，以免出现电机被自动停止导致的炸鸡。 如何关闭碰撞检查： 在地面站>>配置调试>>全部参数列表 找到：FS_CRASH_CHECK 改为0禁用 本文英文参考：http://ardupilot.org/copter/docs/crash_check.html "},"flight-features.html":{"url":"flight-features.html","title":"飞行特性","keywords":"","body":"飞行功能 飞机有许多先进的功能，可以通过配置参数或任务命令访问。 下面的列表会给你一些更广泛使用的功能的信息。 有关完整的功能，请参阅完整的参数列表和MAVLink协议定义。 自动起飞 自动着陆 反向飞行 失速防止 地理围栏 地形跟随 通道输出功能 飙升 "},"flight-features/automatic-takeoff.html":{"url":"flight-features/automatic-takeoff.html","title":"自动起飞","keywords":"","body":"自动起飞 固定翼飞机可以自动发射多种类型的飞机。下面的说明将教你如何设置你的任务来支持自动起飞。 基本说明 自动起飞的基本思想是自动驾驶仪将油门设置为最大，并爬升到指定的高度。要使飞机执行起飞，请将NAV_TAKEOFF命令添加到您的任务中，通常作为第一个命令。这个命令有两个参数 - 最小俯仰角和起飞高度。最小俯仰控制飞机在起飞过程中以什么俯仰角地爬升。建议大多数飞机的值在10到15度之间。起飞高度控制起飞被认为完成的高于家中的高度。确保这个高度足以让飞机在起飞后安全地转弯。 40米的高度适合各种飞机。 在起飞过程中，机翼将保持在LEVEL_ROLL_LIMIT范围内内。这样可以防止急转弯造成机翼撞地面起飞的跑道。 请注意，起飞方向是从自动起飞命令开始时飞机所在的方向设置的。所以你需要把飞机指向正确的方向，然后切换到自动模式。在起飞的第一阶段，自动驾驶仪将使用陀螺仪作为保持飞机直行的主要机制。在达到良好的GPS航向足够的速度之后，飞机将切换到使用GPS地面轨道，这使得它能够考虑横风。 只要有可能，你应该尝试着迎风。 手抛发射 手抛发射是发射较小的飞机，如泡沫滑翔机的常用方法。飞机有许多参数来控制手的启动。如果您打算以自动模式启动您的飞机，请仔细查看这些选项。 一个很好的手抛发射的关键是： 如果螺旋桨在发动时落在手后面，那么确保电动机在您的手经过之前不会启动 控制手发射的主要参数是： TKOFF_THR_MINACC TKOFF_THR_DELAY TKOFF_THR_MINSPD TECS_PITCH_MAX 当自动起飞任务命令开始时（通常通过切换到自动模式），自动驾驶仪以“油门抑制”模式启动。只有TKOFF_THR_参数设置的条件满足后，油门才会启动。 TKOFF_THR_MINACC参数控制油门将会结合飞机的最小前进加速度。前进的加速度来自你发射飞机的手臂投掷动作。您需要将此值设置得足够高，使得当您正常携带飞机时，电机不会自动启动，但又足够低，以便您可以通过正常的投掷动作可靠地触发加速。大多数飞机的价值大约15米/秒/秒。 TKOFF_THR_DELAY参数是延迟1/10秒的单位，以在达到最小加速度后阻止启动电机。这是为了确保在电机启动之前螺旋桨已经过了你的手。建议手动启动至少2秒（0.2秒）。 TKOFF_THR_MINSPD参数是电机启动前的最低地面速度（由GPS测量）。这是一个额外的安全措施，以确保在电机启动之前飞机已经脱离您的手。推荐使用4m / s的值。 请注意，如果您的飞机是“拖拉机”类型的电机在前面，那么您可能需要将TKOFF_THR_DELAY和TKOFF_THR_MINSPD设置为零，或使用较低的值。 您应该考虑的最后一个参数是TECS_PITCH_MAX参数。这将控制自动驾驶在自动飞行中要求的最大俯仰。设置为非零值时，将替换所有自动油门飞行模式的LIM_PITCH_MAX参数。将此参数设置为一个足够小的值以确保飞机能够在全油门时可靠爬升将使起飞更可靠。对于大多数飞机来说，设置成20就可以了。 弹射器发射 弹射器发射和手发射之间的主要区别在于，弹射器通常会给飞机提供更高的加速度，所涉及的风险主要是螺旋桨将撞击弹射框而不是击中你的手。 在大多数其他方面，弹射器的发射就像是手动发射，同样的4个关键参数也适用。如果您的弹射器设置为使得电机在飞机离开弹射器的框架之前不能运行，那么您将需要选择参数以确保有足够的延迟。通常这意味着TKOFF_THR_MINACC（比如说20m / s / s）的值更高，测量GPS地面速度之前的延迟更长。可能需要进行一些实验，但是TKOFF_THR_DELAY值为5很可能对许多弹射器有好处。 蹦极发射 一次蹦极式发射使用了一段长长的弹力来发射飞机。这可以是一个更便宜的替代弹射器，并为许多中小型号提供良好的结果。 适用于手动发射和弹射发射的4个参数也适用于蹦极发射，但是您需要的值是不同的。蹦极发射的主要风险（尤其是推进螺旋桨）的主要风险是螺旋桨将撞击蹦极绳，损坏螺旋桨或蹦极或两者。为了防止这种情况的发生，你应该有更高的TKOFF_THR_DELAY值，使得它在电机启动之前就已经松开了蹦极。 50左右的值（延迟5秒）可能是一个很好的起点。 跑道起飞（CTOL） 跑道起飞，也被称为轮式起飞或CTOL（常规起飞着陆）。从跑道上设置一个好的自动起飞比其他类型的发射要复杂一些，需要更多的参数设置和更多的调整。 跑道起飞的一个关键考虑因素是你是否有拖车（尾轮转向）或三轮车底盘（前轮转向）。三轮车起落架飞机的自动起飞更容易，尾部牵引机需要额外的参数。 跑道起飞的关键参数是： TKOFF_TDRAG_ELEV TKOFF_TDRAG_SPD1 TKOFF_THR_SLEW TKOFF_ROTATE_SPD TECS_PITCH_MAX GROUND_STEER_ALT 除了这些参数之外，还需要调整地面转向，以便地面转向控制器能够可靠地转向飞机。参见设置地面转向的单独页面。作为这个调整的一部分，你需要设置GROUND_STEER_ALT参数。 前两个参数主要用于尾翼飞机，尽管它们也可以用来在起飞时保持三轮摩托车的前端。 TKOFF_TDRAG_ELEV参数用于在起飞初始阶段在跑道上牢牢抓住尾部牵引装置的尾部，以便在跑道上有足够的抓地力进行引导。对于尾部牵引机，这通常设置为100，这意味着在起飞的初始阶段，升降机100％起飞。对于三轮车底盘飞机，需要在鼻子上额外增加一点重量才能获得良好的转向，可能会发现-20（意味着降低20％）值可能会有所帮助。 当起飞开始时，自动驾驶仪将使用TKOFF_TDRAG_ELEV电梯（按百分比），直到飞机达到每秒TKOFF_TDRAG_SPD1米的速度。您需要将TKOFF_TDRAG_SPD1设置为低于起飞速度的速度，但高于飞机能够使用其方向舵转向的速度。当飞机到达TKOFF_TDRAG_SPD1时，它将释放升降舵，而是使用正常的飞行俯仰控制器来尝试保持俯仰水平。这将有一个拖尾飞机尾巴抬高的效果。 TKOFF_ROTATE_SPD参数控制自动驾驶仪何时试图抬起机头（俯仰）离开地面。这需要是飞机能够爬升的速度，所以它应该比飞机失速速度高出至少2米，最好是更高。较高的值将意味着更长的起飞时间（因此需要更多的跑道）。 TKOFF_THR_SLEW参数控制起飞过程中的油门摆动速率（以每秒百分比为单位）。这是用来让油门以适合您飞机的速度升高。这应该有多高取决于飞机的类型。地面起飞通常是一个好主意，可以限制油门斜度的上升速度，以防止来自电机的扭矩导致大的转向变化。值为20（意味着每秒20％的节气门变化）对于许多尾部牵引器是好的。三轮车起落架飞机可能能够处理较大的油门转速。 与其他类型的起飞一样，TECS_PITCH_MAX参数控制着起飞时所用的最大桨距。确保这是限制在一个价值，飞机可以使用爬满油门快速。大约20度的值适用于多种飞机。 在FBWA模式下测试地面起飞 使用FBWA飞行模式测试起飞代码有时很有用。这样做的方法是将FBWA_TDRAG_CHAN参数设置为发送器上的RC输入通道（通常是一个瞬时开关，如教练开关）。当您在跑道上等待FBWA模式起飞时，此RC通道变高，自动导航将检查您是否配置了TKOFF_TDRAG_ELEV和TKOFF_TDRAG_SPD1参数。如果它们被设置为非零值，则电梯将在FBWA中以与它是如何控制AUTO自动起飞相同的方式进行控制。一旦该RC通道升高，电梯将转到TKOFF_TDRAG_ELEV值（通常为尾部拖车的100％），并且将停留在那里，直到飞机达到每秒TKOFF_TDRAG_SPD1米的地面速度。 这为在FBWA模式下测试自动起飞提供了一个方便的方法，也是一种在FBWA模式下获得更好的地面转向的好方法。 "},"flight-features/automatic-landing.html":{"url":"flight-features/automatic-landing.html","title":"自动降落","keywords":"","body":"自动着陆 这篇文章解释了如何将飞机降落作为任务计划的一部分，并且包括如何安全着陆的信息。 配置自动着陆 飞机可以自动降落飞机，作为任务计划的一部分。 要使飞机着陆，需要在任务结束时添加一个NAV_LAND命令，指示所需着陆点的纬度，经度和高度。在大多数情况下，高度应设置为0.在着陆期间，当飞机到达熄火点时，自动驾驶仪将关闭油门并保持当前航向，由下述参数控制。 关键参数 控制自动着陆的关键参数是： LAND_FLARE_ALT LAND_FLARE_SEC LAND_PITCH_CD TECS_LAND_ARSPD TECS_LAND_SPDWGT 下面介绍每个参数的含义和建议值。 设置flare点 “flare”是当自动驾驶仪切断油门并提高倾斜度时，着陆的最后阶段，增加阻力并放慢飞机沉入地面。适当的flare时间取决于飞机的类型，并由LAND_FLARE_ALT和LAND_FLARE_SEC参数控制。 flare的主要控制是LAND_FLARE_SEC参数。如果飞机继续以当前的下降速度继续飞行，那么这是几秒钟之前的时间。所以，如果飞机以2米/秒的速度下降，并且将LAND_FLARE_SEC设置为3，则飞机将在地面以上6米的高度发射。通过使用一段时间冲击来控制flare，如果飞机快速下降，则飞机能够在更高的高度发射;如果飞机缓慢下降，则可以在更低的高度发射。这有助于确保flare能够产生平稳的触地。 第二个控件是LAND_FLARE_ALT。无论飞机的下降速度如何，这个高度都是以米为单位的高度。 这两个参数的适当值取决于自动驾驶仪如何估算其高度在地面以上。如果自动驾驶仪有一个很好的测距仪（如激光雷达），那么你可以安全地选择相当小的数字，并接近地面熄火。这通常会产生更好的着陆。 LAND_FLARE_SEC为1.5，LAND_FLARE_ALT为2的值是以LiDAR开始的好地方。如果仅仅依靠气压计着陆高度，则可能需要更高的值才能解释气压误差。 控制滑翔坡度 设置flare点的另一个重要因素是下滑道。滑翔坡度是从最后一个航点到着陆点的距离与最后航点和着陆点之间的高度差的比率。例如，如果着陆点距离最后一个航点300米，最后一个航点是地面30米，那么滑翔斜率为10％。 如果滑翔坡度太陡，那么飞机将不能及时发亮以避免撞击，加上自动驾驶仪可能无法准确地将飞机保持在进近坡道上。建议您以最多10％的下滑坡度开始。您的飞机能够处理的下滑坡度取决于您的俯仰控制器的调校能力，您的TECS调校的效果以及您要求的着陆速度。 如果您发现您的飞机没有准确地跟踪所需的滑行坡度，那么您应该首先检查您的日志中的俯仰调整，并确保在着陆过程中要求的和实现的音高在几度之内匹配。如果他们没有看到音调调整文档（或者可能需要重新运行AUTOTUNE）。如果要求和达到的pitch匹配，那么你应该检查你的TECS记录，以确保在着陆过程中要求和达到的空速相匹配。查看TECS调整补丁以获取更多信息。 你也应该知道，很多模型飞机可以长距离滑行，也可能是你所要求的滑翔坡度和空速组合不可能实现。 着陆空速 自动着陆通过使用空速传感器得到极大的帮助。使用空速传感器时，着陆进场速度（下滑速度）由TECS_LAND_ARSPD参数控制，单位为米/秒。 您需要为TECS_LAND_ARSPD选择高于您的飞机失速速度的值，但要足够低以使飞机能够在合理的距离内降低高度并降落。请注意，由于失速速度取决于您的飞机的重量，如果您显着改变飞机的重量（例如添加电池或摄像头），则需要调整降落速度。 为了进一步改善着陆，您可以使用预扩张来在发生火光之前降低空速。这可以通过设置LAND_PF_ALT或LAND_PF_SEC来进入一个固定高度的预闪光状态，或者估计到地面的秒数（考虑到你现在正常的速率）。一旦Pre-Flare被触发，所需的空速变为LAND_PF_ARSPD。该值应该低于TECS_LAND_ARSPD，但大于失速速度。在反向推力可用的情况下，这一点特别有用。然而，一些飞机可以处理失速降落，所以将其设置为非常低的数字（1）将告诉飞机在发生火炬之前尽可能多地排空空气。 控制方法 在着陆进近过程中，自动驾驶仪需要平衡要求的空速（由TECS_LAND_ARSPD设置）和要求的滑翔坡度和着陆位置（由前一个航点和最终着陆点设定）。默认配置试图平衡这两个要求，但对于某些飞机，您可能需要优先考虑。 空速控制与高度控制的优先级使用TECS_LAND_SPDWGT参数进行设置。值1（默认）意味着两者之间的平衡。接近于2的值给出空速的更高优先级，而接近于零的值给予高度控制更高的优先级。例如，如果您以接近失速速度的速度降落，则您可能希望将空速控制放在最重要的位置。为此，应将TECS_LAND_SPDWGT设置为接近2的值，如1.9。 如果你想在着陆的时候想要的是精确的，那么你应该把TECS_LAND_SPDWGT设置为一个较小的数字，比如0.2甚至0.0。在这种情况下，飞机仍然会尝试使用油门来达到目标​​着陆的空速，但是它不会试图用俯仰来控制空速。 如果您正在降落滑翔机（或者没有电机的飞机），那么您应该将TECS_LAND_SPDWGT设置为2.0，这样空速就是优先级，空距将用于控制空速。 在大多数情况下，-1的值给出最好的结果。这个特殊的值会在着陆过程中自动调整数值，从正常的TECS_SPDWEIGHT值降到零点。在进近的过程中，您保持良好的空速，但在您登陆的时候，重点是更准确的着陆。 控制flare 着陆的最后阶段被称为“flare”。在flare期间，飞机试图保持沿着最后一个航点和着陆航点之间的航线，并且仅使用目标下降速度来控制其高度。一旦flare开始，油门被“禁用” - 设置为THR_MIN和零之间的某个值。 飞行控制器在flare中的主要工作是尝试达到TECS_LAND_SINK参数中指定的下降速率。默认为0.25米/秒，对大多数飞行器来说是一个合理的降落垂直速度。为了达到这个速度，TECS控制器只有在马达被迫归零时才使用桨距控制。 影响飞机达到理想下降速度能力的主要参数是LAND_PITCH_CD，TECS_LAND_DAMP和主俯仰调整参数。 LAND_PITCH_CD参数设置耀斑中的最小俯仰目标（以厘米为单位）。这个参数是非常专门设计的，目的是为了防止在接地时飞机的机头过低，造成损坏起落架或破坏螺旋桨的问题。对于大多数飞机来说，这应该是一个小正数（如300，意思是3度），但对于一些腹部着陆的飞机，可以设成小负数，如果flare时飞机远离地面，将失速。 请注意，由于TECS控制器试图控制下降速率，因此飞机的实际俯仰角可能比LAND_PITCH_CD高很多。如果TECS_PITCH_MAX参数非零，则最大俯仰由TECS_PITCH_MAX参数控制，否则由LIM_PITCH_MAX参数控制。 TECS_LAND_DAMP参数是过程中桨距控制的阻尼常数。数字越大，俯仰要求变化越慢。这个参数可以用来减少熄火发生时突然发生俯仰变化的问题。 Flare之后 飞机flare后继续导航，但零油门。导航方向是从最后一个航点通过着陆点向前外推的一条线。请注意，导航滚动将被限制为LEVEL_ROLL_LIMIT（默认为5度）以防止机翼打击，所以如果存在显着的横风，则飞机可能无法保持精确的路径。 如果您的飞机长时间持续着陆（可能出于各种原因），那么您可以调整TECS_LAND_SRC以强迫失速（负）或降低（正）。此值会调整您的TECS_LAND_SINK与距离LAND点的距离成比例。这有助于确保您从LAND点合理的距离。 注意 长期着陆的可能原因包括地面效应使得飞机有更多的升力，因为它靠近地面，或者只是飞机飞得很快。 当飞机停止移动LAND_DISARMDELAY秒（默认20秒）时，它将解锁电机。或者，可以通过设置LAND_THEN_NEUTRL触发LAND_DISARMDELAY，从而禁用伺服移动。 使用测距仪 如果你已经为你的飞机安装了测距仪，那么你可以使用它来更准确的着陆控制。要允许测距仪用于着陆，您需要将RNGFND_LANDING参数设置为1。 当使用测距仪着陆时，测距仪给出的高度仅用于着陆进近和确定眩光点，其目的是使飞机更准确地跟随下滑道并在正确的时间闪光。 注意 测距仪的效果可能取决于您飞过的地面，所以最好在飞行模式（如FBWA）中进行一些低通，然后检查日志以检查测距仪是否正常工作。 另外请注意，如果您有更远距离的测距仪，那么将测距仪的最小范围设置为远高于零是个好主意。例如，脉冲激光雷达的典型范围超过40米，当它读取错误的读数往往读取范围小于1米。将RNGFND_MIN_CM设置为150将丢弃1.5米以下的任何测距仪读数，并将极大地提高激光雷达着陆的鲁棒性。 改善着陆 一个好的着陆的关键是自动驾驶知道它离地面有多远。使用默认设置，可用于检测高度的唯一传感器是晴雨表。不幸的是，气压计有三种主要的误差： 气压变化引起的气压漂移 由于自动驾驶仪电子部件的温度变化而造成的气压漂移 气压计周围气流的局部压力变化引起的气压误差 良好的自动着陆的理想设置是激光雷达。激光雷达可以非常准确地测量到地面的距离，而不会发生漂移。如果您安装了激光雷达，则可以使用RNGFND_LANDING = 1进行着陆。 如果激光雷达没有安装，那么可以采取一些措施来尽量减少自动着陆的气压误差问题 在电子设备加热后执行气压计校准。 Pixhawk最简单的方法是用安全开关解除飞机的飞行状态。当飞机撤防时，它假定它在地面上，并将气压计调到当前的压力。 尽量避免直接通过自动驾驶仪的气流，这可能导致速度相关的压力变化 飞行时间缩短，可以减少更换空气的时间。检查你的日志，看看是否一直在零高度着陆 在飞机降落的情况下，它也可以很好的设置着浅间距的着陆（在LAND_PITCH_CD中），并设置一个稍微高一点的高度，只有当你的失速速度足够低，滑行一段时间才能可靠地工作，这将是唯一的工作。 使用DO_LAND_START 有时触发自动着陆作为RTL（返回到启动）的一部分是有用的。要做到这一点，你需要做两件事情： 在你的着陆序列开始之前，向你的任务添加一个DO_LAND_START任务物品 将RTL_AUTOLAND参数设置为1或2 它的工作方式是当飞机进入RTL时，它检查参数RTL_AUTOLAND是否被设置为1或2.如果是，则搜索当前任务DO_LAND_START类型的任务项目。如果找到了，那么飞机将自动进入自动模式并着陆，从DO_LAND_START标记之后的任务部分开始。 确切的行为取决于RTL_AUTOLAND值： 如果RTL_AUTOLAND = 1，那么飞机将首先像往常一样RTL，然后当它开始绕回返回点（回家或集合点）时，它将在DO_LAND_START和陆地之后切换到AUTO任务 如果RTL_AUTOLAND = 2，则飞机将完全绕过RTL并直接进入着陆序列。 你可以选择在你的任务中包含多个DO_LAND_START任务物品。如果这样做，则使用DO_LAND_START任务项目的纬度/经度来选择使用哪个着陆序列。使用最接近当前位置的DO_LAND_START。如果您针对不同的风况或不同的地区有多个着陆序列，这可能会很有用。 如何中止自动着陆 提供一个着陆中止机制，允许您以安全，受控和预期的方式中止着陆顺序。自定义中止行为可以预先编程作为任务的一部分，或者您可以使用默认的中止机制。要启用此功能，请设置参数LAND_ABORT_THR = 1。 这个功能有三个步骤：＃。触发中止＃。中止＃期间的行为。中止完成后的任务状态。 步骤1）中止降落触发 这是触发自动着陆中止的三种方式。他们都只能在自动模式下工作，并且正在执行LAND航点任务项目： 使用GCS发送MAV_CMD_DO_GO_AROUND命令。 Mission Planner在FlightData Actions标签上有一个标记为“Abort Landing”的按钮。 RC输入油门> 90％。这会在AUTO模式下触发一个中止。油门只需要很短的时间来触发它。不要忘记降低它！ 模式改变。对于人体飞行着陆中止，您可以将自动模式切换到例如MANUAL / STABILIZE / FBWA，然后根据需要安全地导航飞行器。使用此方法将跳过中止行为步骤2，因为它正在手动完成。当切换回AUTO时，任务将按照下面的步骤3所述继续。 步骤2）中止飞行行为 中止行为具有默认配置，不需要预先计划的任务。默认的中止行为是模拟自动起飞：调高至少10度，并将油门设置为TKOFF_THR_MAX并保持航向，直到达到目标高度30米。可以改变俯仰和高度以允许定制的行为。 俯仰最小。如果在这次任务中执行过NAV_TAKEOFF，那么相同的音高将在这里被重新使用。 目标高度。如果NAV_LAND参数1> 0，那么它被用作以米为单位的目标高度。否则，如果NAV_TAKEOFF曾经执行过这个任务，那么相同的高度将在这里被重新使用。 如果放弃触发器是通过模式改变的话，这个步骤将被跳过，因为假定飞行员手动地接管并且以他们选择的音高和油门飞行到安全高度。 步骤3）中止着陆完成后的任务状态 一旦中止土地完成，通过达到目标高度或切换回AUTO，任务指数将会改变，您将不再执行NAV_LAND命令。使命指数将改变为这三个选项之一，并按此顺序进行检查： 如果NAV_LAND任务项目后面是任务项目CONTINUE_AND_CHANGE_ALT且param1 = 0或1，则任务索引将增加一次该命令并像正常一样执行。这之后可以进行任何定制的任务行为的进一步的中止任务计划。 否则，如果在任务中有DO_LAND_START，则跳转到该索引。 否则任务指数减一次是NAV_LAND之前的索引。这将确保重复相同的着陆方法。 逆推着陆 一些ESC允许反向。在螺旋桨上反向使用时，会产生一个负向推力，可以用来降低空速。在陡峭着陆的过程中，这种方法可以用来保持稳定的低速空速，让您更轻松准确地降落。要使用此功能，强烈建议使用空速传感器和测距仪（见上文）以获得准确的高度。 注意 从Plane v3.5.1开始，反向推力着陆是可用的。 关键参数 控制反推着陆的关键参数除了1.1中列出的外，还有： LAND_PF_ALT LAND_PF_SEC LAND_PF_ARSPD USE_REV_THRUST TECS_APPR_SMAX RC3_TRIM THR_MIN ESC（电子调速器） 硬件选择和编程 大多数电调可以正反转运行，但这通常不是股票功能，可能需要重新编程才能完成。 任何SimonK和BLHeli兼容的ESC都可以flare以支持反向推力。 这里是关于BLHeli兼容的信息。 硬件配置 通过改变它的中性点来配置您的ESC反向推力。许多ESC需要定制固件来实现这一点。搜索谷歌或您的ESC的mfgr有关如何配置您的特定ESC的说明。 设置这些： 最小PWM到1000，中间到1500，最大到2000。 THR_MIN为负值，例如-100。接下来将RC3_TRIM（或其他RCx映射到通过RCMAP_THROTTLE进行调节）设置为ESC的中间值。 确定您的最大下滑角度 对于陡峭的着陆方法，限制是你能保持你想要的空速。这取决于您的飞机创造反向推力（电机+支撑推力）的能力及其对减速（飞机质量）的阻力。在许多情况下，极度陡峭是不必要的，但是可能的。超大型电机和轻型飞机可以像60度一样陡峭。 要确定最陡峭的接近角度，请将TECS_APPR_SMAX设置得非常高，以免限制您（例如99）。接下来，计划一个比正常的方法更陡峭的任务（尝试15度，从那里上去）。在进场时注意你的空速 - 飞机应该能够保持TECS_LAND_ARSPD而不超过可用倒车油门范围的75％。如果不是这样，那么你的飞机的负推力质量比就太高了。 请记住，无论您决定的最大值如何，在所有的风力条件下都是不可接受的。保持可重复性最好保守一点。 设置前眩光 在安装了测距仪和空速传感器之前，在闪光点前，我们将获得精确的空速和高度读数。这给了我们一个很好的想法，我们的动力和稳定的“初始条件”，以最后的耀斑。将LAND_PF_ALT（或LAND_PF_SEC）设置为相当高的点（例如10米）并从那里调整。接下来将LAND_PF_ARSPD设置为恰好高于您的失速速度的值。 当达到LAND_PF_ALT时，空速需求将立即从TECS_LAND_ARSPD变为LAND_PF_ARSPD。这将导致它通过增加的反向推力而踩下制动器，从而使空速减小到期望的空速。 诀窍是将LAND_PF_ALT设置为达到LAND_PF_ARSPD的高度，然后杀死LAND_FLARE_ALT处的油门（发生在一个稍低的高度 - 约1米或2米）。 例如，TECS_LAND_ARSPD = 15，LAND_PF_ARSPD = 12，LAND_PF_ALT = 12，LAND_FLARE_ALT = 2。根据您的斜率，飞机质量和电机+推进器推力，您预计飞机从15m / s减速到12m / s空速，同时降低10m到2m。这些是调整的关键参数，以确保低于2米高度的平稳和缓慢的flare。 Flare 现在，您正在以稳定和可预测的空速开始Flare，控制Flare更容易。如果你已经调整了你的flare，而不是反向推力的话，你会想要调整它。您会注意到您的广告调整速度要慢得多。你之前必须做的调整和妥协更容易处理。 确定您的飞机的实际失速速度 除非你真的知道你在做什么，否则摊位速度很难估计。传统上，要确定这个真正的价值，你需要慢慢地降低你的空速，直到你失速，但是这个麻烦的问题是，现在你有一架失速的飞机从天上掉下来。 借助LAND_PF_ALT和LAND_PF_ARSPD，您可以将您的失速速度降到更低的水平。要知道空速在什么时候停止，当您的机翼失去升力并通过比较实际的滚转（CTUN.Roll）和所需的滚动来检查您的数据闪存日志（SD卡上的* .bin）的空速（ARSP.Airspeed） （CTUN.NavPitch）分歧。 现在，您正在以稳定和可预测的空速开始闪光，控制耀斑更容易。如果你已经调整了你的flare，而不是反向推力的话，你会想要调整它。您会注意到您的广告调整速度要慢得多。你之前必须做的调整和妥协更容易处理。 确定您的飞机的实际失速速度 除非你真的知道你在做什么，否则摊位速度很难估计。传统上，要确定这个真正的价值，你需要慢慢地降低你的空速，直到你失速，但是这个麻烦的问题是，现在你有一架失速的飞机从天上掉下来。 借助LAND_PF_ALT和LAND_PF_ARSPD，您可以将您的失速速度降到更低的水平。要知道空速在什么时候停止，当您的机翼失去升力并通过比较实际的滚转（CTUN.Roll）和所需的滚动来检查您的数据闪存日志（SD卡上的* .bin）的空速（ARSP.Airspeed） （CTUN.NavPitch）分歧。 "},"flight-features/inverted-flight.html":{"url":"flight-features/inverted-flight.html","title":"反向飞行","keywords":"","body":"反向飞行 飞机现在支持倒飞。您可以通过查找INVERTEDFLT_CH EEPROM配置参数来确定您的版本是否支持倒飞。 细节 INVERTEDFLT_CH参数允许您配置变送器开关以启用APM的倒飞。默认值为零，这意味着没有倒飞。要启用它，请选择一个RC输入通道，该通道不用于其他任何功能，并且在启用先前未使用的2位置开关时，将发射器设置为大于1750的PWM值，当未使用2位置开关时，将该值设置为低于1750启用。 例如，如果通道7当前未被使用，并且您将INVERTEDFLT_CH设置为7，则如果您的发射器在通道7上发送1900，则APM将翻转飞机，并且以所处的任何模式继续飞行，但飞机是倒立的。 变送器设置 启用倒飞仅改变APM稳定飞机的方式。当启用倒飞时，它将稳定在与正常的180度滚转。 为了充分利用倒飞航班，在启用倒飞航班开关的同时，还可以倒置发射机升降舵和方向舵控制。这应该可以用任何好的发射机。例如，使用Turnigy 9X变送器上的ER9X固件，您可以使用这样的混合： CH01 + 100％AIL CH02 + 100％ELE -100％完全开关（GEA） CH03 + 100％THR CH04 + 100％RUD -100％完全开关（GEA） CH07 + 100％MAX开关（GEA） 当GEAR开关激活时，将设置油门和方向舵，同时将CH7设置为满。 与飞行模式的互动 倒飞可以用于任何稳定的飞行模式（这意味着除了手动模式之外的任何模式）。这意味着你可以在任务期间切换倒飞，飞机将继续颠倒任务。确保在尝试着陆之前将其禁用 提示 以下是关于倒飞的一些常规提示 先在HIL仿真中尝试一下，以适应它，并确保您的发射机安装正确。 确保你有足够的高度之前接合或脱离倒飞。 根据您的机身，翻转时可能会损失很多高度，也可能是您的机身在翻转时挣扎保持高度 "},"flight-features/stall-prevention.html":{"url":"flight-features/stall-prevention.html","title":"预防失速","keywords":"","body":"预防失速 在某些模式下，飞机有逻辑来防止失速。这个页面描述了它是如何工作的以及如何配置它。 基本的想法 用户崩溃最常见的方式之一是通过摊位。当机翼上的气流不足以将飞机保持在空中时发生失速。失速可以以任何速度发生，但是最常见的失速类型是低速失速，其中气流太慢而不能提供足够的升程。 你需要通过机翼将空气保持在空中的气流量（取决于）你正在飞行的岸角。如果你被困住了，那么你需要飞得更快，以获得足够的升力。这是因为电梯是垂直于机翼产生的，所以当机翼翻转时，只能提供电梯的一部分来举起飞机，电梯的其余部分则使飞机转弯。 当STALL_PREVENTION参数设置为1时，有两件事情完成： 当在滚动控制模式下，自动驾驶仪将监视你所要求的倾斜角度和空速，并且如果你有足够的裕量超过失速速度以在需要的倾斜角度转弯，就算出来。如果你不这样做，那么转弯将被限制在安全限度，但是它总是允许一个至少25度的银行（为了确保你的空速估算值不会太差，你仍然可以操纵）。 当在自动油门门模式下，自动驾驶仪还将TECS系统中的最小空速提高到当前需要的坡度角可以安全达到的水平。所以它会增加更多的发动机功率或降低机头提升空速，使得导航控制器所要求的倾斜角度可以在没有障碍物的情况下实现 配置失速预防 有两个控制失速预防的关键参数： STALL_PREVENTION参数。如果这设置为零，则不进行失速预防。如果您没有空速传感器，并且合成空速估计不够好，这可能会很有用ARSPD_FBW_MIN参数，这是配置的飞行最小空速。为了计算任何要求的倾斜角度的安全空速就是用该倾斜角度来缩放这个值 受影响的模式 以下模式受防失速代码的倾斜角限制的影响： FBWA FBWB AUTOTUNE CIRCLE RTL AUTO CRUISE LOITER GUIDED TRAINING (from Plane 3.4) 在这些模式中的每一种中，飞机正在计算导航代码的期望倾斜角度，或者用户正在经由副翼杆输入期望的倾斜角度。在这两种情况下，防失速代码将根据ARSPD_FBW_MIN和当前空速之间的余量来限制倾斜角。 以下模式受到失速防止限制倾斜角度时，TECS自动提速的影响： CIRCLE RTL AUTO CRUISE LOITER GUIDED 这些都是“自动油门”模式，TECS控制器控制俯仰和油门。 用法示例 在自动着陆转弯时，防止失速的一个例子就是在自动模式下。着陆方法将以TECS_LAND_ARSPD的空速为目标，该速度通常相当低，并且可能高于失速速度。如果最后一个回合是锐利的（通常是90度），那么飞机可能会试图在下降的速度下急转弯。这可能会导致一个摊位。失速预防代码意味着两件事情发生： 最初的转弯足够浅以防止失速 在转弯期间目标空速保持足够高以允许转弯完成，之后降低 在FBWA和AUTOTUNE下降 FBWA模式还有一个特殊功能来帮助防止直线停车。飞行员在飞行的时候往往难以判断飞机的空速，而许多飞行员在试图以FBWA模式飞行时发现自己的飞行速度太慢。如果ArduPilot变桨控制器调节良好，并且即使在缓慢飞行的情况下也能保持机头稳定，情况尤其如此。 为了使飞行低速失速的可能性降低，基于节气门位置在FBWA和AUTOTUNE模式中增加了一些额外的俯仰角。添加的降低音调的数量基于STAB_PITCH_DOWN参数，默认为2度。在零油门，这个完整的下降音高被添加。如果油门高于TRIM_THROTTLE，则不会添加俯仰音高。在这两个值之间，下降音高与节气门成比例地增加。 当您在FBWA和AUTOTUNE模式下降低油门时，会产生轻微降低的效果，这会使飞机增加一些速度，从而减少停机的可能性。 STAB_PITCH_DOWN所需的值取决于您的飞机有多少拖动。一个非常光滑的模型将需要一个较小的值。高阻力模型将需要更大的价值。 "},"flight-features/geofencing.html":{"url":"flight-features/geofencing.html","title":"地理围栏","keywords":"","body":"在飞机上的地理围栏 平面中的地理围栏支持允许您在要飞行的区域周围设置地理围栏，指定为GPS位置的封闭多边形以及最小和最大高度。 注意 在固定翼上，必须为地理围栏参数绘制栅栏多边形。在“直升机”中，您可以指定一个没有围栏多边形的最大围栏高度，并且“直升机”将遵守此规定，但“固定翼”要求您为包括最大/最小值ALT在内的任何围栏参数绘制多边形。 启用保护时，如果您的飞机离开围栏区域，则会切换到“引导”模式，然后飞回预定义的返回点，然后在那里闲逛，准备再次接管。然后，您可以使用遥控器上的开关或使用地面控制站（GCS）中的命令来取回控制权。 用于R C控制训练 地理围栏的主要用途之一是教自己（或其他人）使用无线电遥控飞机。当你有一个正确配置的地理围栏，几乎不会出现地理围栏失效的情况，所以是非常可靠和安全的设置。 地理围栏可以与任何APM飞行模式相结合。所以对于初学者来说，你可以将它与稳定的飞行模式（如STABILIZE或FBWA）结合起来。一旦飞行员获得了一些信心，就可以将其与手动模式结合起来，从而直接控制飞机，并允许进行最有趣的特技飞行。当以这种方式使用时，APM完全不受控制，只是将控制器直接传递给伺服系统，并且只有在您离开围栏区域或超出定义的高度范围时才能进行控制。 用于阻拦 在完全自主操作期间，围栏可以用作故障安全措施以确保飞机停留在预期的飞行区域内。在完全自主操作期间，使用FENCE_AUTOENABLE参数，飞机在起飞完成后将自动启用围栏，并在到达降落点时自动禁用围栏。将FENCE_AUTOENABLE参数设置为1以使用此功能。有关设置登陆和起飞航点的详细信息，请参阅规划航点和事件任务页面。 当然，围栏也可以用于半自主任务中的阻拦（例如起飞和/或着陆是手动的任务），围栏仍然可以通过R / C发射器或GCS控制 - FENCE_AUTOENABLE是可选的。 设置地理围栏 要在Plane中设置地理围栏，您需要配置几件事情： 围栏的边界，作为一组GPS点 对到达围栏边界采取的行动 返回点的位置;请注意，您可以选择使用FENCE_RET_RALLY参数让飞机返回最近的集合点而不是围栏返回点。 围栏区域的最小和最大高度 你将使用什么RC通道来启用地理围栏（如果有的话） 当您想要配置围栏在自动起飞后自动启用并在自动着陆后自动禁用时，可选设置（FENCE_AUTOENABLE） 在突破围栏之后，你想如何收回控制权 这些都可以使用APM Mission Planner进行设置。 在设置围栏边界时，您必须遵守一些规则： 返回点必须在围栏边界内 围栏边界必须完全封闭。这意味着它必须至少有4个点，最后一点必须与第一个点相同 边界最多可以有18个点 如果您使用APM plnner设置围栏，应确保遵循这些规则。 请记住，在制作围栏边界时，您的飞机撞击围栏时会有一些动量，并需要时间返回到返回点。对于像SkyWalker这样的飞机，我们建议在你想飞的地方的真实边界内增加一个大约30米的安全边界。最低高度也是一样 - 你需要做足够的高度以使APM有时间从快速跳水中恢复过来。您需要多少保证取决于飞机的飞行特性。 除围栏边界外，以下MAVLink参数还可以控制地理围栏行为： FENCE_ACTION - 对突破围栏采取的行动。默认为零，禁用地理围栏。将其设置为1，以启用地理围栏并飞向围栏突破处的返回点。设置为2向GCS报告违规行为，但不采取其他行动。设置为3使飞机在违规时返回到飞机的返回点，但飞行员在这种情况下将保持手动油门控制。 FENCE_MINALT - 以米为单位的最小高度。如果这是零，那么你将不会有最低的高度。 FENCE_MAXALT - 以米为单位的最大高度。如果这是零，那么你将不会有最高的高度。 FENCE_CHANNEL - 用于启用地理围栏的RC输入通道。默认为零，禁用地理围栏。您应该将其设置为一个备用RC输入通道，该通道连接到变送器上的两位开关。当此通道高于1750的PWM值时，屏蔽将被启用。如果您的发射器支持此功能，则启用此通道（每隔几秒发出一声蜂鸣）时启用声音反馈也是一个好主意。 FENCE_TOTAL - 栅栏中的点数（返回点加上封闭的边界）。这应该由计划者在创建围栏时为您设置。 FENCE_RETALT - 飞机在返回点和在返航点游荡时的飞行高度（以米为单位）。请注意，当FENCE_RET_RALLY设置为1时，此参数将被忽略，并使用最接近的拉力点的游标高度。如果此参数为零且FENCE_RET_RALLY也为零，则使用FENCE_MAXALT和FENCE_MINALT参数的中点作为返回高度。 FENCE_AUTOENABLE - 如果设置为1，则飞机将在禁用围栏的情况下启动。自主起飞完成后，围栏将自动启用。当自主任务到达着陆点时，围栏自动禁用。 FENCE_RET_RALLY - 如果设置为1，当围栏被破坏时，飞机将前往最近的集合点而不是围栏返回点。请注意，集合点的空闲高度被用作返回高度。 注意 集结点可以在地理围栏之外，但不建议这样做。如果在地理围栏外有一个集结点，则需要使用FENCE_CHANNEL禁用地理围栏，然后才能再次控制飞机，否则飞机将停留在“引导”模式，以避免绕过集合点。一旦地理围栏被禁用，您应该将飞机放回地理围栏内，然后重新启用它。 一个额外的参数可能有助于充分利用地理围栏。当您突破围栏时，飞机将切换到导航模式并飞回返回点（或者如果FENCE_RET_RALLY设置为1，则返回最近的集结点）。一旦你回到围栏边界内，你就可以再次控制，你需要告诉APM你想要控制。您可以通过以下三种方式之一来完成此操作： 使用遥控器上的APM模式开关更改模式，或通过Mission Planner GCS（例如，从GUIDED模式更改为AUTO模式）更改模式。 使用FENCE_CHANNEL通道禁用和重新启用地理围栏 将RST_SWITCH_CH MAVLink参数设置为连接到弹簧加载开关的另一个双位置通道。 RST_SWITCH_CH参数默认为零，禁用它。如果您将其设置为频道，那么您可以使用此通道切换器在突破围栏后收回控制权。 如果不是完全自主飞行，我发现使用RST_SWITCH_CH是地理围栏的最佳选择，因为这意味着APM在整个飞行过程中启用了围栏，并且您不会通过切换模式来改变任何行为。但它确实占用了另一个通道，所以有些人可能没有足够的通道来使用它。 "},"flight-features/common-terrain-following.html":{"url":"flight-features/common-terrain-following.html","title":"地形跟随","keywords":"","body":"地形跟随 从固定翼3.0.4起，自动驾驶板（如Pixhawk），可以使用自动地形跟随功能。 本页面将介绍地形跟踪的工作原理，如何启用它，以及它的局限性。 如果使用直升机，请看 参见直升机特定地形 工作原理 通过在自动驾驶仪上的MicroSD卡上维护一个地形数据库来实现地形跟踪，该地形数据库为地理位置的网格提供海拔高度以米为单位的地形高度。在Pixhawk上，该数据库存储在microSD卡上的APM TERRAIN目录中。 数据库由自动驾驶仪通过MAVLink遥测链路从地面站请求地形数据自动填充。在飞行计划中，当自动驾驶仪通过USB连接时，或在通过无线电连接进行连接时，这可能发生。一旦地形数据从GCS发送到自动驾驶仪，它将存储在microSD卡上，即使GCS未连接，它也可以使用。这使得自动驾驶仪即使在无法与地面站通话的情况下，也可以使用地形数据执行RTL（返回发射）之后的地形。 在飞行过程中，当飞机接近新的区域时，ArduPilot代码自动将所需的地形数据从microSD卡存入内存。如果使用默认的地形网格间隔，它将保持内存约7km乘8km的区域。 除了飞机附近的任何地形数据外，ArduPilot还要求地面站提供任何装载的任务航点的地形数据，以及装载的任何航点。这确保了即使GCS变得不可用，在整个任务中也可以在microSD卡上使用地形数据。 地形跟随飞行模式 在以下飞行模式中可以使用飞机地形： RTL - 返航LOITER - 悬停cruise - 长途巡航FBWB - 定高GUIDED - “飞向”航点AUTO - 自动使用RTL，LOITER，CRUISE，FBWB和GUIDED模式中的地形由TERRAIN—FOLLOW参数控制。该参数默认为关闭，因此在这些模式下不会使用地形跟踪。将TERRAIN_FOLLOW设置为1以在这些模式下启用地形跟踪。在AUTO任务中使用地形跟随在航路点上，使用航路点的参考坐标系进行控制。正常（非地形跟踪）航路点具有“相对”参考系，并且相对于本地位置指定高度。地形下面的航点有一个“地形”参考框架，高度是相对于地形数据库中给出的地面高度。 使用地形跟踪 在地形可能变化很大的地区飞行ArduPilot时，地形跟踪非常有用。主要用途是： 安全的RTL。当你在山区进入RTL时，能够爬过山而不是试图飞过山，这是非常有用的！ 航空摄影。在拍摄一系列航拍照片时，能够保持地面的恒定高度是非常有用的 FPV飞行。在巡航模式下飞行FPV时，保持高于地面的恒定高度是有用的，这样您可以花更多时间欣赏风景，避开山坡 地形数据的来源 地面站负责提供通过MAVLink发送给飞机的原始地形数据。目前只有MissionPlanner（版本1.3.9或更高版本）和MAVProxy支持地形跟踪支持所需的TERRAIN_DATA和TERRAIN_REQUEST消息。如果您正在使用不同的地面站，那么要加载地形数据，您需要使用两个支持地面站之一进行连接，以便ArduPilot将地形数据加载到您的板上。通常需要大约2分钟才能加载任务的所有地形数据。一旦它被加载它永久保存在microSD卡上。 MissionPlanner和MAVProxy都支持地形数据的全球SRTM数据库。该数据库的全球网格间距为3弧秒（约100米），但在世界某些地方（美国约30米）的网格间距较小。通过扩展地面站代码，可以添加对其他地形数据库的支持，而无需更改ArduPilot代码。 地形间距 ArduPilot地形编码有一个用户可设置的参数，称为TERRAIN_SPACING，它控制网格间距，用于请求从飞机到地面站的地形数据。默认的TERRAIN_SPACING是100米，但用户可以为专业应用程序设置不同的网格间距。 请注意，保存在内存中的地形数据量与网格间距直接相关。如果将TERRAIN_SPACING减少2倍，则保留在内存中的地形面积减少4倍。建议使用至少30米的TERRAIN_SPACING，以防止飞机从侧面在飞行中的网格并没有可用的数据。 如果地面站在飞机要求的分辨率下没有可用的地形数据，则地面站将根据需要内插以提供所要求的网格尺寸。 地形精度 SRTM数据库的准确性在地球表面上各不相同。典型的精度是10到20米左右，虽然有些地区更糟。这使得地形适合飞行在60米或更高海拔的飞机。不建议使用低空飞行的地形数据。 设置地形跟踪 要设置您的固定翼飞机的地形下面遵循这些步骤 确保你有平面3.0.4或更高版本加载 确保你安装了最新的MissionPlanner（版本1.3.9或更高版本） 将TERRAIN_ENABLE设置为1，将TERRAIN_FOLLOW设置为1 GPS锁定时，通过USB连接到车辆 检查MissionPlanner中的FlightData-> Status页面并查找地形状态数据： "},"flight-features/channel-output-functions.html":{"url":"flight-features/channel-output-functions.html","title":"输出通道","keywords":"","body":"通道输出功能 所有伺服输出都可以映射到ArduPilot支持的任何功能。前4个通道的默认设置是Aileron，Elevator，Throttle和Rudder（通常称为AETR），但是您可以根据需要重新分配它们。 本页介绍如何配置这些输出通道以及每个可用功能是什么。 SERVOn_FUNCTION参数 在GCS的高级参数视图中，您会发现每个SERVO输出通道都有一个SERVOn_FUNCTION参数。例如，SERVO5_FUNCTION控制通道5的输出功能，SERVO6_FUNCTION控制通道6的输出功能等等。 您可以设置这些参数的值与飞行器和车固件共享，而不是所有这些参数都在固定翼飞机上实施。下面列出了在固定翼实施的那些： Disabled=0 RCPassThru=1 Flap=2 Flap_auto=3 Aileron=4 mount_pan=6 mount_tilt=7 mount_roll=8 camera_trigger=10 mount2_pan=12 mount2_tilt=13 mount2_roll=14 DifferentialSpoilerLeft1=16 DifferentialSpoilerRight1=17 DifferentialSpoilerLeft2=86 DifferentialSpoilerRight2=87 Elevator=19 Rudder=21 FlaperonLeft=24 FlaperonRight=25 GroundSteering=26 ParachuteRelease=27 QuadPlaneMotor1=33 QuadPlaneMotor2=34 QuadPlaneMotor3=35 QuadPlaneMotor4=36 QuadPlaneMotor5=37 QuadPlaneMotor6=38 QuadPlaneMotor7=39 QuadPlaneMotor8=40 MotorTilt=41 RCPassThru1=51 RCPassThru2=52 RCPassThru3=53 RCPassThru4=54 RCPassThru5=55 RCPassThru6=56 RCPassThru7=57 RCPassThru8=58 RCPassThru9=59 RCPassThru10=60 RCPassThru11=61 RCPassThru12=62 RCPassThru13=63 RCPassThru14=64 RCPassThru15=65 RCPassThru16=66 Ignition=67 Starter=69 Throttle=70 ThrottleLeft=73 ThrottleRight=74 TiltMotorLeft=75 TiltMotorRight=76 ElevonLeft=77 ElevonRight=78 VTailLeft=79 VTailRight=80 前4个通道的默认值是副翼，升降，油门和舵。所有其他通道的默认值为0，意味着禁用。禁用通道将输出该通道的修正值（例如，如果SERVO5_FUNCTION为0，则通道5将输出SERVO5_TRIM），除非被任务命令覆盖。 所有这些功能都可以在多个通道上使用。因此，如果您因为某些原因需要3个电梯通道，则可以在3个输出通道上将SERVOn_FUNCTION设置为19。 DISabled 对于正常操作，禁用输出功能将通道的输出值设置为修整值。此例外是使用通道或任务伺服组的MAVLink覆盖。所以在某些方面“残禁用”可以被称为“任务控制”。 当你执行一个飞行任务时，你可以要求一个伺服作为该任务的一部分设置一个值。在这种情况下，您应该将该通道的SERVOn_FUNCTION设置为“已禁用”，以便在任务设置值后，该值不会被另一个输出功能立即更改。 RCPassThru 将通道设置为RCPassThru意味着将从相应的输入通道输出进入板子的值。例如，如果SERVO5_FUNCTION是1（意思是RCPassThru），那么通道5的输出总是等于通道5的输入。 您还可以使用特定的频道映射功能将单个频道映射到任何输出频道。对于RCInputChannel1，它们从值51开始编号。例如，您可以设置SERVO11_FUNCTION = 53，将RC输入通道3映射到输出通道11。 flap 当通道设置为襟翼时，其值来自襟翼输入通道（由FLAP_IN_CHANNEL参数控制）。您可能想要使用此功能而不是RCPassThru的原因是，您可以设置具有不同修剪和范围的多个翻板通道，并且您可能需要利用FLAP_SLEWRATE来限制翻盖移动的速度。 Flap_auto 襟翼自动输出功能的行为就像翻板输出，除了它也可以接受来自TKOFF_FLAP_PCNT和LAND_FLAP_PERCNT参数的自动襟翼输出，以及FLAP_1_SPEED，FLAP_1_PERCNT，FLAP_2_SPEED和FLAP_2_PERCNT参数。 如果同时设置了FLAP_IN_CHANNEL和Flap_auto输出功能，则应用的襟翼量是两者中较大的一个。 Aileron Aileron输出功能增加了额外的副翼输出，单独的每个通道的微调和范围。当你想单独调整每个副翼，或者如果你的主副翼被设置为高音调音台（使用ELEVON_OUTPUT选项），并且你还想要一些正常的副翼，这是非常有用的。 Mount_pan，Mount_tilt和Mount_roll 这些控制用于控制伺服万向节的输出通道。有关详细信息，请参阅相机云台配置文档。 Mount2_pan，Mount2_tilt和Mount2_roll选项是相同的，但控制第二台相机云台 Camera_trigger Camera_trigger输出功能用于通过伺服触发摄像机。有关详细信息，请参阅相机万向节文档。 Elevator Elevator功能增加了额外的电梯输出，具有单独的每通道调整和范围。如果要分别修剪每个电梯，或者如果将主电梯设置为Elevon调音台（使用ELEVON_OUTPUT选项），并且还想要一些正常的电梯，则此功能非常有用。 Rudder Rudder输出功能增加了额外的方向舵输出，单独的每个通道的微调和范围。单独的方向舵通道对于前轮转向特别有用，其中与正常方向舵通道或多轮平面相比，前轮可能需要颠倒。 GroundSteering GroundSteering输出功能非常像方向舵输出功能，除了只在飞机低于GROUND_STEER_ALT高度时才起作用。在GROUND_STEER_ALT之上的海拔高度，输出将是通道的修正值。 Flaperon1和Flaperon2 使用flaperon1和flaperon2输出功能，您可以设置襟副翼，副翼是双副翼。对于有副翼但没有襟翼的飞机，它们非常有用。 请注意，襟副翼就像上面所描述的Flap_auto输出的襟翼部分一样。 "},"flight-features/soaring.html":{"url":"flight-features/soaring.html","title":"飙升","keywords":"","body":"飙升 Ardupilot中的自主飞行功能允许飞机响应升高的气流（散热），以延长续航时间并以最少的电机（飙升）获得高度。 这张照片显示了使用飞升功能时飞行的不同阶段： 当输入AUTO，FBWB或CRUISE模式时，如果飞机高于SOAR_ALT_MIN高度，油门将被设置为零。飞机开始滑翔。 如果飞机达到SOAR_ALT_MIN高度，油门重新启用，飞机将开始爬升到下一个航点的高度。 当飞机达到SOAR_ALT_CUTOFF高度时，再次将油门设置为零。 如果在滑翔飞行期间，空气估计升高超过SOAR_VSPEED，飞机将进入LOITER模式。它会调整留待的位置，以更好的盘旋。 LOITER模式在以下条件下退出： 已达到SOAR_ALT_MAX。 已达到SOAR_ALT_MIN。 飞行模式是手动更改。 可实现的爬升率的估计值降到SOAR_VSPEED以下，并且至少持续了SOAR_MIN_THML_S秒。 在LOITER被触发之前，飞行模式将返回到以前的状态，除了以下例外。如果之前的模式是FBWB或CRUISE，并且由于到达SOAR_ALT_MIN而结束，则会触发RTL。建立飙升使用你的飞机飞行，理想情况下应该是一个滑翔机类型的飞机，具有良好的阻力比，并配有空速传感器。 有一些步骤可以使飞机飞升： 建立一个合适的使命。 调整TECS。 估计飞机拖动。 设置飞升的参数。 任务设置 一个任务的主要要求是，它需要飞机上面SOAR_ALT_CUTOFF，以便滑翔飞行启动。 为此，请将航路点高度设置为高于SOAR_ALT_CUTOFF。 警告 自动驾驶仪可以在相对较长的路途中移动路点，特别是在有风的情况下。 您应该设置一个地理围栏以保持安全距离 调整TECS TECS需要设置成在滑行时以一致的空速飞行。为此，请将TECS_SPDWEIGHT设置为2.0，将SOAR_ENABLE设置为1，并将SOAR_VSPEED设置为一个很大的数字，例如50.0。这意味着飞机将会滑行但永远不会开始飞行。将SOAR_ALT_CUTOFF设置为您感觉舒适的高度。它应该足够高，以便花费很长的时间来滑行。启动飞机并将其置于自动模式。它应该爬到SOAR_ALT_CUTOFF，然后开始滑行下降。观看遥测图或查看Dataflash日志。飞机是否维持要求的空速？在Dataflash日志中可以看到要求的空速为TECS.spdem，通过遥测可以使用NAV_CONTROLLER_OUTPUT.aspd_error。您可能需要增加PTCH2SRV_IMAX和TECS_INTEG_GAIN才能在滑翔飞行中实现良好的空速跟踪。 估算飞机的阻力 要计算空气的上升速度或下沉速度，自动驾驶仪需要知道飞机在静止空气中的给定空速时的下沉速率。这与飞机的阻力极性有关。估计极地可能有一点涉及。如果您的机身与Parkzone Radian非常相似，则保持SOAR_POLAR_B和SOAR_POLAR_CDO不变是合理的。您应该使用以下公式为您的飞机调整SOAR_POLAR_K： SOAR_POLAR_K = 16 *重量/面积（以千克为单位的重量，以平方米为单位的面积）。 设置飞行参数 将SOAR_VSPEED参数更改回合理的值。请记住，此参数控制何时将模式更改为LOITER并启动热启动。将SOAR_ALT_MAX更改为您希望自动驾驶停止提升的高度。 "},"advanced-configuration/auxiliary-function-switches.html":{"url":"advanced-configuration/auxiliary-function-switches.html","title":"辅助功能开关","keywords":"","body":"辅助功能开关 本文将展示如何设置从发射机的辅助函数调用的功能开关。 AC3.2.1和早些时候允许通道7和8作为辅助开关。 AC3.3和更高的固件 配置 默认情况下,辅助开关禁用，可以在配置/调优试|扩展 调参选项上设置开启或通过直接设置CH7_OPT,CH8_OPT,CH9_OPT,CH10_OPT,CH11_OPT,或CH12_OPT参数。从图上可见辅助功能开关有以下功能选项： 1.不做操作 2.翻转 3.切换到简单模式 4.返航（飞行器将返回家的位置即起点，切回低点将执行ch5对应的模式） 5.保存修改 6.保存wp 7.相机触发 8.测距仪(低位禁用高位启用） 9.围栏（低位禁用，高位启用） 10.超级简单模式 11.特技模式 12.喷雾器（低位禁用高位启用） 13.自动模式 14.自动调参模式 15降落模式 16.epm 17.降落伞使能 18.降落伞释放 19.降落伞三档（低位禁用，中位自动，高位释放） 20.重置任务 21.attcon前馈（仅供开发人员） 22.attcon accel限制（仅供开发人员） 23.REtract mount 24.继电器1开关（低位关闭，高位打开） 25.继电器2开关（低位关闭，高位打开） 26.继电器3开关（低位关闭，高位打开） 27.继电器4开关（低位关闭，高位打开） 28.起落架（低位关闭，高位打开） 29.故障报警开关 30紧急停止电机 31.电机联锁 32.刹车（高位启用切回低位将执行ch5对应的模式） "},"advanced-configuration/compass-setup-advanced.html":{"url":"advanced-configuration/compass-setup-advanced.html","title":"指南针设置（高级)","keywords":"","body":"高级指南针设置 本文提供有关如何设置和校准罗盘（磁力计）的高级指导。 选择3DR UBlox GPS +指南针模块（推荐）并根据指定的说明进行安装的用户通常可以执行简单的“实时校准”，如“罗盘校准页面”中的指南针校准中所述）。 本主题提供了更完整的罗盘校准概述。 如果罗盘以非标准方向安装或需要额外的校准支持，这将非常有用。 概述 准确设置罗盘是至关重要的，因为它是航向信息的主要来源。 没有准确的航向，在自动驾驶模式（即AUTO，LOITER，PosHold，RTL等）中，车辆将不会以正确的方向移动。 这可能导致盘旋（也称为“马桶效应”）或失控炸机。 ArduPilot目前支持使用三个罗盘。 只有一个罗盘（使用COMPASS_PRIMARY参数指定，默认罗盘#1为主罗盘）用于导航。 虽然许多自动驾驶仪具有内部指南针，但大多数将使用外部指南针。 由于与其他电子设备的分离，采集的数据比内部罗盘提供的数据更可靠。 主要自动驾驶仪板的标准配置如下表所示： 设置配置 AC3.4以上固件下支持板载磁校准，如果配合使用1.3.46以上版本的地面站地面站自动屏蔽现场校准界面，强制执行板载磁校准，根据有关资料及实测显示板载磁校准比现场校准更为可靠，下面介绍一下板载磁校准： 快速配置 地面站支持自动配置最常见的自动驾驶仪板的所有参数。 所以您需要选择与您的自动驾驶仪对应的按钮： 对于Pixhawk和PX4，选择Pixhawk / PX4按钮。 可能会提示您输入特定的ArduPilot版本。 对于APM 2.6，使用外部指南针选择APM。 对于APM 2.5，选择APM（内部指南针）。 如果外部指南针处于非标准方向，则必须手动选择组合框中的方向（从ROTATION_NONE更改）。 外部罗盘COMPASS_ORIENT选项与AHRS_ORIENTATION参数方向选项无关。 大多客户FITNESS选项可选very Relaxed,这样校准比较容易通过。 检查指南针方位 AHRS_ORIENT参数的正确，可以确保您的内置罗盘的方位正确。 通过旋转您的飞机所有的轴，每个罗盘沿相同的方向移动，应该是大致相同的值 北半球： - 指南针向上放置Z轴应为正 - 当自动驾驶仪下降时，X轴数值应变大 - 当自动驾驶仪右转时，Y轴数值应变大。 南半球：指南针向上放置Z轴应为负 - 当自动驾驶仪下降时，X轴数值应减小 - 当自动驾驶仪右转时，Y轴数值应减小。 常规设置 一般设置适用于连接到自动驾驶仪控制器的所有指南针： 启用罗盘：确定是否启用（任何）罗盘。如果启用，如果启用，飞行控制器将使用主罗盘作为航向数据，否则航向将从GPS估算。启用此复选框对应的设置参数为MAG_ENABLE = 1 主指南针：指定ArduPilot用于导航的罗盘（只有一个罗盘用于导航）。一般默认为第一个罗盘（“Compass1”）。此选择列表对应参数COMPASS_PRIMARY，可设置为从0到2（即是在界面中标记为1到3，罗盘顺序也是从0开始）。 自动获取偏角：根据GPS锁定后的查找表设置偏角。用户可以修改这个偏角;在去掉复选框中的勾（COMPASS_AUTODEC = 0）后，可以在COMPASS_DEC中手动输入偏角。 指南针特定设置 在指南针校准界面可选择任意罗盘组合使用 使用这个罗盘。在这个复选框中勾选指南针即使用该指南针，禁用即不勾选，复选框对应的参数为compass _usex参数(x是0-2）。 外部安装的罗盘。用于设置是否是一个外部安装的罗盘，外部安装对应参数compass_external=1.如果是内部罗盘方向对应AHRS__ORIENTATION.如果是外部罗盘可能与飞控内部罗盘航向不同。 指南针方向：设置外部罗盘安装方向，保存为COMPASS_ORIENTx参数的值。 OFFSETS（COMPASS_OFFSx）和MOT（COMPASS_MOT）参数由实时校准和CompasMot程序填充（参见下面的校准部分）。 CompassMot - 补偿来自电源线，ESC和电机的干扰 对于只有内部罗盘以及电机电源线对罗盘存在严重干扰的飞控，推荐使用。首先需要有电池电流监视器，因为磁力干扰与电流有线性关系，CompassMot才能正常工作。在技​​术上可以使用油门设置CompassMot，但不建议这样做。 请按照以下说明操作： 启用电压电流计 把螺旋桨反装，这样即使油门升高时，由于浆产生向下压的压力让飞机飞不起来。 固定好飞机，使其不移动 打开遥控器 连接电池给飞控供电 使用usb线连接电脑地面站 如果使用AC3.2： 打开初始设置|可选硬件|指南针/马达Calib界面 按开始按钮 你应该听到你的哔哔两声 将油门缓慢升至50％〜75％（飞机将旋转！）5〜10秒 快速将油门回到零 按完成按钮（AC3.2）完成校准 检查显示的干扰百分比。 如果小于30％，则您的罗盘干扰是可以接受的，您应该看到良好的Loiter，RTL和AUTO性能， 如果高于30％，应该尝试将APM / PX进一步向上远离干扰源，或考虑购买外部指南针（或GPS +罗盘模块）。 指南针错误警报 Compass Health：在半秒内指南针没有发送至少一个信号。 Compass Variance：卡尔曼滤波器检测不合格，多个罗盘同轴差值过大(x轴差值大于100，y轴差值大于100，或z轴反向）。 Compass Not Calibrated：指南针未校准。 Compass Offsets High：你的一个指南针偏移量超过600, 指示可能磁干扰，检查的来源 干扰和再次校准。 "},"advanced-configuration/ekf.html":{"url":"advanced-configuration/ekf.html","title":"扩展卡尔曼滤波器（ekf)","keywords":"","body":"扩展卡尔曼滤波器(EKF) 直升机和固定翼可以使用扩展卡尔曼滤波器（EKF）算法，基于速率陀螺仪，加速度计，罗盘，GPS，空速和大气压力测量来估计飞机位置，速度和角度方向。 EKF与简单的互补滤波器算法（即“惯性导航”）相比优点在于：通过融合所有可用的测量数据，能够更好的过滤掉有明显误差的测量数据，这使飞机不会受单个传感器故障的影响。 EKF还可以使用诸如光流和激光测距仪等可选传感器进行测量，以辅助导航。 目前稳定版本的ArduPilot使用EKF2作为主要态度和位置估算来源，DCM在后台静止运行。 如果飞行控制器有两个（或多个）IMU可用，则两个EKF“内核”（即EKF的两个实例）将并行运行，每个使用不同的IMU。 飞控会选取一个传感器数据一致性最好，性能最佳的EKF核心作为单个EKF输出使用，其它核心不起输出作用。 大多数用户不需要修改任何EKF参数，但下面的信息提供了一些最常见的参数变化信息。 更详细的信息可以在开发者EKF wiki页面找到。 选择EKF和核心数 AHRS_EKF_USE：设置为“1”以启用EKF，“0”用于姿态控制和惯性导航（Copter-3.2.1）或者用于位置控制的航向推算（平面）。 在Copter-3.3（及更高版本）中，此参数被强制为“1”，不能更改。 AHRS_EKF_TYPE：设置为“2”以使用EKF2进行姿态和位置估算，EKF3为“3”。 EK2_ENABLE，EK3_ENABLE：设置为“1”分别启用EKF2/EKF3。 EK2_IMU_MASK，EK3_IMU_MASK：指定要使用哪些IMU（即加速度计/陀螺仪）的位掩码。 将为指定的每个IMU启动EKF“核心”（即单个EKF实例）。 1：使用第一个IMU启动单个EKF内核 2：仅使用第二个IMU启动单个EKF核心 3：分别使用第一个和第二个IMU启动两个单独的EKF内核 常用参数修改 EK2_ALT_SOURCE哪个传感器用作主高度源 0：使用气压计（默认） 1：使用测距仪。这可以用于气压计数据非常嘈杂并且地面相对平坦的环境（即空调器可能引起突然的压力变化的室内）。如果意图执行地形跟踪，则不应使用。对于以下地形地形，请参阅直升机和平面特定地形遵循说明）。 2：使用GPS。当GPS质量非常好并且气压计漂移可能存在问题时有用。例如，如果飞机将执行高度变化> 100m的长途任务。 EK2_ALT_NOISE：默认值为“1.0”。较低的数字减少对加速度计的依赖，增加对气压计的依赖。 EK2_GPS_TYPE：控制GPS的使用方式。 0：使用GPS的3D速度和2D位置 1：使用2D速度和2D位置（GPS速度对高度估计不起作用） 2：使用2D位置 3：无GPS（仅在可用时才使用光流） 如上所述，EKF理论和调整参数的更详细的概述可以在开发人员wiki的扩展卡尔曼滤波器导航概述和调谐上获得。 "},"advanced-configuration/ground-effecf-compensation.html":{"url":"advanced-configuration/ground-effecf-compensation.html","title":"地面效应补偿","keywords":"","body":"地面效应补偿 直升机3.4（及更高版本）包括地面效应补偿，当飞机起飞或降落时，降低气压计的权重（有利于加速度计）。 这减少了了着时，飞飞行器的弹跳。 如果您的飞行器在着路时没有反弹，最好将此功能禁用，因为它稍微增加了高度震动水平扰乱高度估计值的风险。 设置 飞控连接使用地面站(即任务计划)并设置GND_EFFECT_COMP参数设置为“1”。 "},"advanced-configuration/current-limiting-and-voltage-scaling.html":{"url":"advanced-configuration/current-limiting-and-voltage-scaling.html","title":"重置参数","keywords":"","body":"重置参数 本文介绍如何重置飞行器参数 方法1：使用mp地面站 注意：该办法只适用于清除一般参数，，如需彻底恢复参数或飞控出现异常请选用方法2 把飞控连接上mp地面站，在配置/调优|全部参数表/全部参数数页面右方有重置为默认值按钮，点击按钮即可方法2：刷写加载另一种类型的固件 注意：该办法会彻底把全部参数恢复默认值，请操作前保存需要的参数。 上传一个完全不同的类型的固件(即如果你 使用直升飞机固件,现在上传固定翼固件)。 重新启动, 等30秒eepm。 然后上传原 固件(例如直升飞机)飞行控制器。 "},"advanced-configuration/rc-input-channel-mapping.html":{"url":"advanced-configuration/rc-input-channel-mapping.html","title":"RC输入通道映射","keywords":"","body":"RC输入通道映射(RCMAP) 本文介绍如何使用RCMAP功能设置非标准RC输入通道映射。 注意：该指导适用于ac3.2及以上固件 配置 默认情况下，RC输入通道为： 通道1：横滚输入 通道2：升降输入 通道3：油门输入 通道4：偏航输入 这些对应关系可以通过设置RCMAP_ROLL,RCMAP_PITCH,RCMAP_THROTTLE和RCMAP_YAW来改变 方法： 打开mp地面站，切换到配置/调优|全部参数数(或全部参数列表)界面,如下所示。 更改任何这些参数后，飞行控制器应重新启动。 重启后，应重新进行RC校准和电调校准。 "},"advanced-configuration/rc-output-channel-mapping.html":{"url":"advanced-configuration/rc-output-channel-mapping.html","title":"RC输出映射","keywords":"","body":"RC输出映射 本页介绍如何使用电机（和其他功能）的RC输出通道更改默认值。 这些指令主要集中在多电机固件上，因为单个功能设置页面（如Servo Gripper设置页面）通常记录如何使用RCx_FUNCTION或SERVOx_FUNCTION参数分配所使用的输出通道。 可以在Copter-3.4（及更高版本）中提供重新映射多个电机的能力。 用于控制输出通道的参数在copter3.5及更高版本中已从RCx_FUNCTION更改为SERVOx_FUNCTION。 配置 根据固件版本，RCx_FUNCTION或SERVOx_FUNCTION可以设置为85个以上不同的值，以指定输出通道应该使用什么（注意：大多数地面站应显示整个可能的选项列表）。 在这种情况下，“x”是通道号，因此RC1_FUNCTION或SERVO1_FUNCTION指定使用Pixhawk背面的“MAIN OUT 1”引脚。 RC9_FUNCTION或SERVO9_FUNCTION指定使用“AUX OUT1”引脚。要分配多电机直升机，可以使用这些功能值： 33：电机＃1 34：电机＃2 35：电机＃3 36：电机＃4 37：电机＃5 38：电机＃6 39：电机＃7 40：电机＃8 82：电机＃9 83：电机＃10 84：电机＃11 85：电机＃12 例如，如果您希望将四x框架的四旋翼飞机从斜对角默认重新排序为更合乎逻辑的顺时针方法，请进行以下更改： SERVO1_FUNCTION从33（又称“电机1”，右前） SERVO2_FUNCTION从34（又称“电机2”，左后）更改为36（电机＃4，右后） SERVO3_FUNCTION从35（也称为“电机3”，右前）更改为34（电机＃2，左后） SERVO4_FUNCTION从36（又称“电机4”，右后）更改为35（电机＃3，左前） "},"advanced-configuration/full-parameter-list.html":{"url":"advanced-configuration/full-parameter-list.html","title":"传感器位置补偿","keywords":"","body":"传感器位置偏移补偿 直升机3.5（及更高版本）包括补偿飞机上的传感器位置。 该页面阐明了可以设置哪些参数以及如何设置它们。 在15cm以内，大多数飞行器上的全部传感器（包括imu 、光流）不太可能提供一个补偿使其性能显著提升。 传感器的位置偏移被指定为与IMU（可以假定为飞行控制器板的中间）或飞行器重心的距离（以米为单位）的3个值（X，Y和Z）。 X：IMU和重心的前后距离。 数值为正表示飞行控制器安装在前方，负值表示在后方。 Y：IMU距离和重心的左右距和。 正值为重心在飞行器的右侧，负值表示在左侧。 Y：IMU和重心的距离。 正值较低，负值较高。 实际上距离传感器可以测量飞行控制器的中心距离,除非飞行控制器放置再与飞行器的重心距离很远的地方，在这种情况下，可以指定IMU位置偏移，然后另一个传感器的位置偏移 可以从飞行器的重心指定。 参数的细节 IMU（又名INS）： 为了获得最佳效果，飞行控制器（以及因此的IMU）应放置在车辆的重心处，但如果物理上不可能，则通过设置以下参数可以部分补偿偏移。 INS_POS1_X，INS_POS1_Y，INS_POS1_Z第一个IMU的位置和飞行器的重心距离 INS_POS2_X，INS_POS2_Y，INS_POS2_Z第二个IMU的位置和飞行器的重心距离 INS_POS3_X，INS_POS3_Y，INS_POS3_Z第三个IMU的位置和飞行器的重心距离 补偿只是部分，因为ArduPilot可以根据飞行器的速度和位置估计，但不能校正加速度估计值。例如，如果飞行控制器被放置在飞行器的前方上，并且飞行器突然向后倾斜（即，旋转，使得它的前方向上），而没有偏移补偿，飞行器速度估计将暂时显示车辆在不行驶时爬升。随着位置偏移量的增加，不会显示这个瞬间爬升。 EKF仍然会显示出瞬时的垂直加速度，并且由于我们在高度保持控制器中使用加速度，这仍然可能导致飞行器瞬时减速。 虽然可以为每个IMU设置单独的位置偏移量，但大多数飞行控制器板上的IMU位置之间的差异非常小，以至于所有IMU都可以使用相同的值 全球定位系统： GPS_POS1_X，GPS_POS1_Y，GPS_POS1_Z gps1的位置和飞机重心的距离 GPS_POS2_X，GPS_POS2_Y，GPS_POS2_Z gps2的位置和飞机重心的距离 Range Finder（声纳或激光雷达）： RNGFND_POS_X，RNGFND_POS_Y，RNGFND_POS_Z第一个RangeFinder和飞行器重心的距离 RNGFND2_POS_X，RNGFND2_POS_Y，RNGFND2_POS_Z第二个RangeFinder和飞行器重心的位置 光流： FLOW_POS_X，FLOW_POS_Y，FLOW_POS_Z 光流和飞行器重心的距离。 "},"advanced-configuration/parameter-reset.html":{"url":"advanced-configuration/parameter-reset.html","title":"传感器测试","keywords":"","body":"传感器测试 本文介绍如何检查主要主要传感器（包括位置和GPS）是否正常工作。 检查主传感器 连接任务计划器后，移动飞行控制器板，您将看到人造地平线相应移动。 在地面站上显示数据曲线 您可以通过勾选显示屏右下角的“调试”复选框来查看所有各种传感器的输出。 如果您点击如下图标注** 2 **Tuning的位置，它将显示一个窗口“图形”，允许您选择要显示的传感器和数据输出。 点击图一tuning的位置可以打开Graph this的图像项目选择栏。 "},"advanced-configuration/telemetry-and-serial-settings.html":{"url":"advanced-configuration/telemetry-and-serial-settings.html","title":"遥测或串口设置","keywords":"","body":"遥测/串口设置 本文介绍如何在飞行控制器上配置遥测端口（也称为串行端口）。 说明使用Pixhawk，但它们适用于大多数飞行控制器。 概观述 在Pixhawk上共有5个串行端口。 每个端口的默认使用是： 微型USB端口（也称为Serial0）用于使用USB电缆连接到地面站。 这不应该在飞行中连接，因为飞行代码如果飞控通过usb供电某些故障浆被禁用（如电池故障保护）。 Telem1（又名Serial1）用于MAVLink通讯，支持流量控制。 特别适用于高功率器件（高达1安培），如RFD900遥测无线电 Telem2（又名Serial2）用于MAVLink通信，并支持流量控制。 GPS（又名Serial3）用于连接GPS 串行4/5在单个端口上包含两个串行连接。 Serial4通常用于第二个GPS。 Serial5是一个调试连接（debug）。遥测/串口设 通过地面站设置 遥测端口可以通过地面站设置配置下列参数。 如果您正在使用mp地面站打开配置/调优|全部参数列表页面。 SERIALx_PROTOCOL参数(“x”是一个数字从0到4）控制协议或串行端口的目的。 您将看到维基页面包括Lightware激光雷达页面说明选择合适的协议。 SERIALx_BAUD设置波特率或串行端口的速度。 BRD_SER1_RTSCTS和BRD_SER2_RTSCTS参数允许启用或禁用Telem1和Telem2流控制。 MAVLink1，MAVLink2和流速 对于用于MAVLink通信的遥测端口，您可以通过将SERIALx_PROTOCOL设置为“2”将SERIALx_PROTOCOL设置为“1”或MAVLink2来选择使用MAVLink1。 MAVLink2支持“签署”数据包，从而提高安全性和灵活长度的消息，因此应尽可能使用，但某些较旧的遥测无线电不能理解MAVLink2，因此默认为MAVLink1。 如在遥测日志页面中所述，可以使用SRx_ *参来控制从飞行器发送的速率信息。 mp地面站的配置/调整|计划程序屏幕的遥测率下拉列表可以方便地设置这些参数。 由于CPU带宽限制,实际发送的数据率可能低于要求。 "},"advanced-configuration/ublox-gps.html":{"url":"advanced-configuration/ublox-gps.html","title":"UBlox gps配置","keywords":"","body":"本文介绍如何连接到u-center来更改cuav uBlox gps模块的配置。 注意：除非必要修改参数外不要做该操作。 连接方式1 - 通过mission planner和Pixhawk连接 mission planner和pixhawk可以通过执行以下操作建立u-center和GPS之间的通信： 将Pixhawk/pixhack连接到PC，并与任务计划员连接 在飞行数据屏幕上按Ctrl-F，然后选择“MAVSerial pass” 打开u-center并选择Receiver，TCP Client，并在Network Connection窗口中将Address设置为“localhost”，将Port设置为“500”，然后按OK。 请参阅如何使用u-center上传配置文件。 连接方式2：使用ttl小板连接接gps与电脑 自行做一条ttl小板与gps连接线（接5v,gnd，rx,tx四根线即可，注意两者的rx，tx需要交叉接，电源按照定为接即可） 设置好波特率及com即可连接（默认波特率为9600） "},"advanced-configuration/fly-by-wire-low-altitude-limit.html":{"url":"advanced-configuration/fly-by-wire-low-altitude-limit.html","title":"电子控制的低高度限制","keywords":"","body":"电子控制的低高度控制 飞机的这个功能允许你设置一个FBW-B模式的最低高度（即使你没有空速传感器），你的飞机将试图保持在上面。 当FBW低限值启用时，如果您的飞机低于所定义的高度，则会升高并爬升回安全高度。到达后，您将重新获得完全控制权。 用于RC控制训练 这个功能将帮助那些没有那么多飞行技能的人安全地飞行。这对于FPV飞行非常有用，因为FBW-B模式提供了简单的控制，低海拔限制可以帮助您避免撞到地面;-) 如何设置Alt限制 使用您的APM Mission Planner，您将必须以厘米为单位将参数ALT_HOLD_FBWCM设置为所需的ALT！如果它是0，那么它被关闭。 选择合适的高度 理想的高度应该非常小心。由于我们知道我们的飞机不能立即作出反应，所以我们必须考虑到这一点选择高度。我建议使用3000（30米）的地形非常平坦。 降落 为了降落您的飞机，您需要将飞行模式更改为除FBW-B以外的任何其他功能，以禁用此功能。 "},"advanced-configuration/can.html":{"url":"advanced-configuration/can.html","title":"can总线设置","keywords":"","body":"CAN总线设置 本文将介绍如何设置CAN总线以及用户如何完成适合其特定需求的设置。UAVCAN的设置界面. 概述 控制器区域网络（CAN总线）是一个强大的总线标准，旨在允许微控制器和设备在没有主机的情况下相互通信。它是一种基于报文的协议，最初设计用于汽车内的多路电线以减少线束，但也用于许多其他情况。所有节点通过双线总线相互连接。这些电线是120Ω标称的双绞线。运行Ardupilot的大多数飞行控制器都有一个或两个CAN接口用于连接不同的设备。接口的设置可以以提供冗余或最大吞吐量或两者混合的方式进行。这是通过三层方法完成的，除物理接口外，还有一个代表特定协议的驱动程序层和一个通过这些驱动程序在CAN总线上进行通信的软件层（Ardupilot）。每个物理接口可以虚拟连接到代表要使用的协议的驱动程序之一。例如，最常见的情况是UAVCAN的一个驱动程序，两个接口都连接到它。这样的设置将为具有两个CAN接口的设备提供冗余，并为具有一个CAN接口的设备提供全部功能。配置设置 启用CAN接口 每个物理端口可以通过参数CAN_PX_DRIVER关闭或连接到相应的驱动程序，其中X是端口号。 此参数的值是与此端口（接口）关联的驱动程序的ID。例如，最常见的设置将有一个驱动程序，所有的接口将连接到它。 此配置中的CAN_P1_DRIVER和CAN_P2_DRIVER参数应设置为1（第一个驱动程序）。 任何CAN_PX_DRIVER改变后，必须重新启动自动驾驶仪才能起效。 CAN接口的配置 启用接口并重启后，可以为每个启用的接口设置两个参数。 这些是： CAN_PX_BITRATE - 在此接口上设置所需的传输速率 CAN_PX_DEBUG - 允许输出调试消息 通常默认使用的比特率是1 Mbit。 调试级别可以根据用户的偏好和需求进行设置。 当任何接口与任何驱动程序相关联时，该驱动程序将被加载指定的协议。 CAN驱动程序的配置 驱动程序应该设置为使用某些协议。 目前支持编号为1的UAVCAN。参数CAN_PX_PROTOCOL，其中X是驱动程序的编号，应填写此驱动程序的协议数量。 改变协议后，必须重新启动自动驾驶仪才能进行起效。 "},"advanced-configuration/uavcan.html":{"url":"advanced-configuration/uavcan.html","title":"uavcan设置","keywords":"","body":"UAVCAN设置 本文提供了在Ardupilot上设置UAVCAN协议的指导。 提示 应该首先启用UAVCAN协议。请参考CAN总线设置 概述 UAVCAN是一个轻量级的协议，专为通过CAN总线进行航空航天和机器人应用中的可靠通信而设计。 UAVCAN网络是一个分散的对等网络，每个对等点（节点）有一个唯一的数字标识符 - 节点标识符，只有一个参数需要设置为基本设置。协议的详细描述可以在http://uavcan.org/找到 Aurdupilot的UAVCAN驱动程序不支持当前版本中的自动节点编号。 所有节点都应该明确设置ID。 配置设置 CAN类别设置中目前有三个参数： CAN_DX_UC_NODE - 这是自动驾驶仪的节点ID CAN_D1_UC_ESC_BM - 允许发送ESC命令的位掩码 CAN_D1_UC_SRV_BM - 允许发送伺服命令的位掩码 在位图掩码中，二进制数字中的每个位置表示将生成该命令的ESC或伺服ID。 在飞行器的情况下，通常应该填充ESC位掩码，在飞机的情况下 - 主要是伺服，尽管可以混合使用。 GNSS接收机配置设置 如果有一个GNSS连接到UAVCAN网络，则必须在 GPS 参数子组中启用。 自动驾驶仪中对应的GNSS接收器的 TYPE 参数应设置为9。 "},"log/":{"url":"log/","title":"日志概述和分析","keywords":"","body":"多旋翼 飞行日志概述及分析 日志类型(Dataflash vs tlogs) 闪存日志 Dataflash APM:COPTER固件内置了黑匣子功能，能记录非常详细的飞行数据，Pixhack标配了8G TF存储扩展，可以记录超过数百次飞行数据* 通过日志分析可以很容易的分析飞行器飞行状态以及是否存在故障 也容易通过日志分析飞行器控制参数是否需要优化 闪存日志有2种下载方式： 通过MAVLINK下载 直接通过读卡器读取飞控板的TF卡（logs文件夹内） 通过Mavlink下载日志： 使用USB或者数传连接到飞行器（推荐用USB，数传可能会很慢） 打开地面站 > > 飞行数据 界面 > > 数据闪存日志 > > 通过Mavlink下载闪存日志 选中对应的日志下载即可，最后一个就是最后一次飞行的日志 下载后，日志会保存在你的地面站安装目录下面的logs的目录 MissionPlanner/logs 正常是有时间显示的，可能时区的问题，时间会偏差 如果GPS未定位获取到时间，年月份 时间都是不准确的 数传日志 Tlogs 用 数传模块 连接PixHack到电脑上，会被Mission Planner(或其他地面站)记录下来。 可以直接在地面站回放记录。 "},"log/dataflash.html":{"url":"log/dataflash.html","title":"闪存日志分析","keywords":"","body":"闪存日志分析 概述 闪存日志有2种分析方式： 自动分析 ：使用地面站的自动分析功能，分析飞行日志，直接获得比较重要的问题结果报告，比较简单明了 手动分析 ：使用地面站的回顾日志 功能，进行手动分析，需要有一定的基础和经验 自动分析： 打开MP地面站>>飞行数据>>>自动分析 加载下载下来的**.bin格式的飞行日志 注意地面站版本，版本不对或者太旧，可能会出错，请尝试更换新版本的地面站 手动分析闪存日志： 通过Mavlink下载日志，会存放在MissionPlanner/logs下级目录，根据不同的飞行器类型命名的目录。如QUADCOPTER or ROVER 日志的基本格式是： 行号在日志分析窗口的左侧 固件版本号和飞行器类型在顶部可以显示 FMT消息显示的是每个不同消息类型内容 PARM行显示参数类型和对应的值 （按飞控EEPROM中的顺序排列） 飞行数据信息，包括GPS，IMU 通过点击选定的行，你可以看到图表和飞行数据，列标题会随之更新。下一列用图表表示的列，选中后点击“Graph this data”按钮。在这个例子中，以上ATT’S Roll-In 及 Roll数据会被图表化。滑动鼠标滚轮能够放大和缩小图表。同样你也可以选中图表中某一区域放大或缩小。通过右击鼠标，并选中“Set Scale to Default”同样可以缩小图表。点击链接Here’s 有一个该特征的迷你的教程。你也可以通过先点击第一列并从下拉菜单中选中第一列来忽略第一列（飞行数据信息类型）。这尤其对于通过MP浏览不同飞行模式（详见MODE信息）十分有用。再次点击第一列“Cancel”按钮清除过滤。 设置要记录的数据 LOG_BITMASK参数控制数据闪存中记录的消息类型。mp地面站和ardupilot的最新版本允许从MP的配置/调整，标准参数屏幕启用/禁用个别消息。（一般使用默认，不禁用，否则可能无法分析故障原因） 消息详解（COPTER固件专用） ATT (姿态信息): RollIn 飞手想要的roll角度，单位为厘米（左侧为负，右边为正） Roll 飞行器实际的roll角度，单位为厘米（左侧为负，右侧为正） PitchIn 飞手想要的pitch角度，单位：厘米-度（往前为负,往后为正） Pitch 飞行器实际的pitch角度，单位：厘米（往前为负，往后为正） YawIn 飞手想要的偏航率，范围：-4500~4500（不是度/秒，顺时针为正） Yaw 飞行器实际航向，单位：度，且0=北 NavYaw 飞手想要的航向，单位：度 ATUN (自动调参概述): Axis: 0 = Roll, 1 = Pitch TuneStep 0=返回水平（测试前或测试后），1=测试（即执行抽搐测试响应），2=更新增益 RateMin 本次测试期间最低的记录率 RateMax 本测试期间最高记录率 RPGain 正在测试p值的增益值 RDGain 正在测试的速率D增益值 SPGain 正在测试的自稳p增益 ATDE (自动调参步骤及细节): Angle 飞行器以被测试轴的厘米为单位 Rate 被测试飞行器轴的转速 CAM (触发快门时间和位置): GPSTime gps报告时间，以毫秒为单位 Lat 加速计+gps纬度估算 Lng 加速计+gps经度估算 Alt 加速计+气压计估算高度 Roll 飞行器的roll角度（以厘米为单位） Pitch 飞行器俯仰角（以厘米为单位） Yaw 飞行器航向角度（以度为单位） CMD (从地面站接收到的命令或作为任务的一部分的执行命令): CTot 任务总命令数 CNum 在这个任务中的命令号(0总是在家，1是第一个任务） CId mavlink 的信息id Copt 选项参数（用于许多不同的用途） Prm1 命令的参数（用于许多不同的用途） Alt 指挥部的高度，以米为单位 Lat 指挥部的纬度位置 Lng 指挥部的精度位置 COMPASS (原始罗盘偏移及罗盘补偿值): Field 描述 MagX, MagY. MagZ x,y,z轴原始磁场值 OfsX, OfsY, OfsZ 原始磁偏移（仅当compass_lenarn参数为1时才会更改） MOfsX, MOfsY, MOfsZ ompassmot补偿 或电流 CURRENT (电池电压，电流和电路板电压信息): FIELD DESCRIPTION Thr 飞行员输入油门从 0 ~ 1000 ThrInt 总油门（即全部油门的总和） Volt 电池电压伏特* 100 Curr 电流 * 100 Vcc 主板电压 CurrTot 消耗的总电流 CTUN (油门和高度信息): FIELD DESCRIPTION ThrIn 飞手输入的油门从 0 到1000 SonAlt 声呐测量到的高度 BarAlt 气压计测量到的高度 WPAlt 定高，悬停，返航或自动模式下的目标高度 NavThr 没用使用 AngBst 飞行器倾斜时会增加的油门大小，为0~1000 CRate 加速计与气压计估计的上升速率，单位cm/s ThrOut 油门最终输出大小传送到电机（从0~1000）在自稳模式下相当于thrin+angbst DCRate 飞行员想要的上升速率单位为cm/s D32, DU32 (单数据值是带符号的32位整数或者无符号的32位整数): FIELD DESCRIPTION id 变量的识别号，只可能有下面两个值 7 = 内部状态的位掩码 https://github.com/ardupilot/blob/master/arducopter/arducopter.cpp#l361> 9 = 简单模式的初始名称，单位cm EKF (Extended Kalman Filter): Log information here(Dev Wiki). Overviewhere. EV: (状态编码): Event No DESCRIPTION 10 已解锁 11 已锁定 15 自动驾驶（飞手将油门上升到零以上，自动驾驶仪可以自由控制油门） 16 自动起飞 18 降落完毕 25 设置家的位置（家的位置坐标已捕获） GPS: FIELD DESCRIPTION Status 0 = 没有识别到 GPS, 1 = 识别到GPS 但未定位, 2 = GPS和 2D 定位成功, 3 = GPS 与 3D 定位成功 Time gps报告时间，以毫秒为单位 NSats 当前使用的卫星数量 HDop 测量gps定位精度（1.5是好的，>2.0不是很好）https://en.wikipedia.org/wiki/dilution_of_precision Lat 根据gps的纬度 Lng 根据gps的经度 RelAlt 加速计与气压计估算高度，以米为单位 Alt gps报告的高度（飞控未使用） SPD 水平地面速度 ，单位m/s GCrs 航向（0=北） IMU (加速度和陀螺仪信息): FIELD DESCRIPTION GyrX, GyrY, GyrZ 原始陀螺仪旋转速度。单位:度/秒 AccX, AccY, AccZ 原始加速度值 ，单位：m/s/s Mode (飞行信息): FIELD DESCRIPTION Mode 飞行模式显示为字符串 (即 STABILIZE, LOITER,等) ThrCrs 巡航油门(从 0 ~ 1000) 可以通过这个参数推测悬停需要什么油门 NTUN (导航信息): FIELD DESCRIPTION WPDst 下一个航点的距离（或悬停目标） 以厘米为单位，仅在Loiter, RTL, Auto模式下更新. WPBrg 下一个航点的方位（以度为单位） PErX 直升机的下一个航点的纬度方向的距离 PErY 直升机下一个航点的纬度方向的距离 DVelX 纬度方向所需速度（以度/秒为单位） DVelY 经度方向所需速度（以度/秒为单位） VelX 纬度方向的实际加速度+气压计估计速度 VelY 经度方向的实际加速度+gps估算速度 DAcX 纬度方向的所需加速度，单位cm/s/s DAcY 经度方向的所需加速度，单位cm/s/s DRol 所需roll角度 单位：厘/度 DPit 所需pitch角度，单位：厘/度 PM (performance monitoring): FIELD DESCRIPTION RenCnt DCM renormalization count - a high number may indicate problems in DCM (extremely rare) RenBlw DCM renormalization blow-up count - how many times DCM had to completely rebuild the DCM matrix since the last PM. Normally innocuous but a number that constantly grows may be an indication that DCM is having troubles calculating the attitude (extremely rare) FixCnt The number of GPS fixes received since the last PM message was received (it’s hard to imagine how this would be useful) NLon Number of long running main loops (i.e. loops that take more than 5% longer than the 10ms they should) NLoop The total number of loops since the last PM message was displayed. This allows you to calculate the percentage of slow running loops (which should never be higher than 15%). Note that the value will depend on the autopilot clock speed. MaxT The maximum time that any loop took since the last PM message. This should be close to 10,000 but will be up to 6,000,000 during the interval where the motors are armed PMT A number that increments each time a heart beat is received from the ground station I2CErr The number of I2C errors since the last PM message. Any I2C errors may indicate a problem on the I2C bus which may in turn slow down the main loop and cause performance problems. RCOUT (pwm output to individual RC outputs): RC1, RC2, etc : Error DESCRIPTION 1:Main （没用过) 2:Radio（无线电） ECode 1: “Late Frame” 意味着飞控超过两秒未接收到遥控信号 3:Compass（罗盘） ECode 1: 指南针不能初始化（可能是硬件问题）ECode 0: 以上错误解决 4:Optical flow（光流） Ecode 1: 无法初始化 5:Throttle failsafe（油门安全保护） ECode 1: 油门降到 FS_THR_VALUE （失控油门触发值）以下，可能是飞控没有接收到遥控信号（油门），请检查遥控信号输入或者失控保护设置 ECode 0: 上述错误解决 6:Battery failsafe（电池低压保护） ECode 1: 电池电压低于LOW_VOLT （低压保护触发值）或电池过度放电能力超过BATT_CAPACITY 7: GPS failsafe（gps安全故障） ECode 1: gps断开锁定至少5秒钟ECode 0: gps恢复锁定 8: GCS failsafe（地面站安全保护） ECode 1: 地面站操纵杆至少五秒钟未变化ECode 0: 恢复地面站更新 9: Fence（地理围栏） ECode 1: 超过围栏限定高度 ECode 2: 超过围栏限定范围 ECode 3:同时超过围栏限定范围和高度 ECode 0: 飞行器回到限定范围内 10: Flight Mode（飞行模式） ECode 0 ~ 17: 飞行器切换到想要的模式失败: 0=Stabilize, 1=Acro, 2=AltHold, 3=Auto, 4=Guided, 5=Loiter, 6=RTL, 7=Circle, 8=Position, 9=Land, 10=OF_Loiter, 11=Drift, 13=Sport, 14=Flip, 15=AutoTune, 16=PosHold, 17=Brake 11: GPS ECode 2: GPS 故障 ECode 0: GPS 故障解除 12: Crash Check（撞击检查） ECode 1: 检测到撞击 ERR(错误信息代号) 下面列出：子系统及错误代码 1：Main(从未使用) 2：无线电（Radio） ECode 1：“Late Frame”意思是APM的板载ppm编码器，至少2秒钟了没有更新数据。 ECode 0：意思是ppm编码器恢复数据更新，错误已解决。 3：Compass（罗盘） ECode 1：罗盘初始化失败(很可能是硬件问题) ECode 2：从罗盘读取数据失败（可能是硬件问题） ECode：上述错误已解决 4：Optical flow（光流） ECode 1：初始化失败(很可能是硬件问题) 5：油门安全故障 ECode 1：油门下降到参数FS_THR_VALUE以下,可能 数传 RX/TX失去连接 ECode 0：上述问题解决，意思是 数传 RX/TX恢复连接 6：电池安全故障 ECode 1：电池电压低于参数LOW_VOLT，或电池过度放电能力超过参数BATT_CAPACITY 7：GPS安全故障 ECode 1：GPS断开锁定至少5秒钟 ECode 0：GPS恢复锁定 8：GCS(地面站)安全故障 ECode 1：地面站的操纵杆，至少5秒钟未变化。 ECode 0：恢复地面站的更新 9：围栏 ECode 1：超过电子围栏限定高度 ECode 2：超过电子围栏限定范围 ECode 3：超过限定海拔高度和围栏范围 ECode 1：飞行器回到限定范围内 10：飞行模式 ECode 0 – 10：飞行器不能进入想要的飞行模式 （0 = 自稳，1 = 特技，2 = 定高，3 = 自动，4 = 导航，5 = 悬停，6 = 返航，7 = 盘旋，8 = 定位，9 = 着陆，10 = 光流—悬停） 11：GPS ECode 2：GPS故障 ECode 0：GPS已故障清除 12：撞击检查 ECode 1：检测到撞击 "},"log/diagnosing-problems-using-logs.html":{"url":"log/diagnosing-problems-using-logs.html","title":"诊断硬件问题","keywords":"","body":"使用日志诊断硬件问题 本章节目的是教你使用日志诊断分析常见的5种直接影响飞行器效果的问题 机械故障： 常见的机械硬件故障包括电机、电调失效（或者不同步）、螺旋桨打滑或者脱落等 这些故障在日志中的表现是，期望的（vehicle's）横滚与俯仰轴与实际的横滚与俯仰轴突然的发散 这种差异可以对比ATT消息的Roll-in vs Roll 和Pitch-in 和Pitch以及NavYaw和Yaw，很容易看的出来。 在上图示例中，飞行器的实际横滚（ROLL）与期望横滚值（ROLL IN）刚开始的时候比较接近，但随后突然发散。飞控板希望控制ROLL IN为水平，实际ROLL值已经无法控制，这一般是一个硬件故障（ESC或者马达、螺旋桨失控），这与软件故障非常不同，如果是软件故障，比如参数不适合导致的严重震荡，ROLL IN和实际的ROLL应该会接近。 振动问题： 因为飞行器的姿态和高度估算严重依赖着加速计，如果严重的震动，会导致定高不稳或者定点悬停飘逸等问题，严重的还会导致高度上下串。 通过闪存日志分析IMU消息中的AccX、AccY和AccZ值，既可了解飞行器震动是否达标或者超标 理想震动范围应该是AccX、AccY 在-3~+3 M/S/S的范围，而AccZ理想值是-15 ~ -5M/S/S 查看振动值，应该从一段平稳飞行的日志中提取分析，因为加速计数值会随着飞行器的上下移动而瞬间改变 振动看起来就好像草坪的草一样。要以一个持续的\"草\"波形去判断是否在合理范围内 电子指南针（电子罗盘/compass）干扰： 如果电子罗盘被干扰，会直接导致飞行器在依赖电子罗盘的飞行模式（AUTO/LOITER/RTL等）出现自旋、刷马桶效应甚至往一个错误的方向飞行 干扰电子罗盘被干扰的因素很多，比如飞行器内部的：配电板、电调、电机、电源走线、电池等 GPS故障 在自动模式下（AUTO\\LOITER\\RTL）GPS异常会导致突然飞行一个错误的位置或者来回飘逸GPS异常一般包括:丢星或者卫星数量突然减少在闪存日志中，可以很直观的看见卫星数量NSats的减少和HDOP 精度精度 变大 NSats 卫星数量 越多越准确 HDOP 水平（平面）位置精度因子 越小越准确 电源故障 闪存日志中体现为日志结束时直升机还在半空中。（导航高度与气压计测量高度等高度指远高于零）。 图像曲线： Dataflash(闪存）日志CTUN消息的气压Alt Dataflash日志的GPS信息的RelAlt(结合加速度计+ 气压计高度估计) Tlog VFR_HUD alt(结合加速度计+气压高度 估计) Tlog的GLOBAL_POSITION relative_alt 电路板电压的变化也可能是电源问题的征兆。 主板电压在4.7~5.3v且跳动小于0.15v是正常的。如果超出这个范围，可能是与飞控共享电源的设备导致电源中的异常，从而导致电压拉低或其他奇怪的行为。 可以使用以下方式绘制电路板电压： Dataflash CURRENT消息的VCC Tlog HWSTATUS的Vcc 其他意想不到的错误及故障保护 当飞行器出现了意想不到的错误，可能会触发对应的故障保护 ERR(错误信息代号) 下面列出：子系统及错误代码 1：Main(从未使用) 2：无线电（Radio） ECode 1：“Late Frame”意思是APM的板载ppm编码器，至少2秒钟了没有更新数据。 ECode 0：意思是ppm编码器恢复数据更新，错误已解决。 3：Compass（罗盘） ECode 1：罗盘初始化失败(很可能是硬件问题) ECode 2：从罗盘读取数据失败（可能是硬件问题） ECode：上述错误已解决 4：Optical flow（光流） ECode 1：初始化失败(很可能是硬件问题) 5：油门安全故障 ECode 1：油门下降到参数FS_THR_VALUE以下,可能 数传 RX/TX失去连接 ECode 0：上述问题解决，意思是 数传 RX/TX恢复连接 6：电池安全故障 ECode 1：电池电压低于参数LOW_VOLT，或电池过度放电能力超过参数BATT_CAPACITY 7：GPS安全故障 ECode 1：GPS断开锁定至少5秒钟 ECode 0：GPS恢复锁定 8：GCS(地面站)安全故障 ECode 1：地面站的操纵杆，至少5秒钟未变化。 ECode 0：恢复地面站的更新 9：围栏 ECode 1：超过限定电子围栏高度 ECode 2：超过限定电子围栏范围 ECode 3：超过限定海拔高度和围栏范围 ECode 1：飞行器回到限定范围内 10：飞行模式 ECode 0 – 10：飞行器不能进入想要的飞行模式 （0 = 自稳，1 = 特技，2 = 定高，3 = 自动，4 = 导航，5 = 悬停，6 = 返航，7 = 盘旋，8 = 定位，9 = 着陆，10 = 光流—悬停） 11：GPS ECode 2：GPS故障 ECode 0：GPS已故障清除 12：撞击检查 ECode 1：检测到撞击 "},"log/tlogs.html":{"url":"log/tlogs.html","title":"遥测日志分析","keywords":"","body":"地面站遥测日志分析 地面站遥测日志（也称为“tlogs”），当你的飞行器链接上地面站的时候，由地面站自动记录的日志 本章节主要介绍如何配置和访问分析遥测日志。 Tlog是在APM / PX4和地面站之间发送的MAVLink遥测消息的记录，并且在您按mp地面站上的连接按钮的时刻自动创建。 格式为YYYY-MM-DD hh-mm-ss.tlog，存储在mp安装文件夹中的“日志”子文件夹中，可以在mp地面站选[配置/调试]界面 [planner]中选择存储位置。 除了“.tlog”文件之外，还创建了“.rlog”文件。 这些包含所有.tlog数据以及来自任务规划者的附加调试输出。 但不能被解析或播放，所以应该被忽略。 设置遥测速率 数据从APM / PX发送到地面站的期望速率可以通过mp地面站>配置/调试>planner界面下的遥测速率下拉列表进行控制。 因为通过遥测链路发送的所有数据也记录在tlog中，所以这也控制了保存到tlog的数据速率。 需要注意的是，由于CPU资源的限制，尤其对于直升机，发送和保存的数据的实际速率可能会低于所请求的速率。 播放任务 如果您正在使用无线遥测并通过任务规划人员连接到APM，您的飞行数据将自动记录。 您可以通过执行以下操作来播放这些日志： 打开mp的飞行数据屏幕 单击遥测日志选项卡 按“加载日志”，找到飞行的tlog文件并打开 按“play” 您还可以使用滑动进度条跳转到日志中的任意时间点，并使用预定义的“速度”按钮控制播放速度。 当日志重播时，HUD界面将移动，并且地图上的飞行器位置将按照飞行中的时间进行更新。 通过“状态”选项卡可以看到单个数据值，甚至可以通过点击地图下方的“调试”复选框，将它们显示在图形中，然后双击数据图例，打开一个框，从中可以精确地选择哪个 数据字段如下图所示。 这将显示记录的数据随着飞行任务的进行而改变。 创建飞行路径的3D图像 您可以通过以下操作创建KMZ文件： 打开mp的飞行数据屏幕 单击遥测日志选项卡 按“Tlog> Kml或Graph”按钮 按“创建KML + GPX”按钮 选择飞行tlog 一个.kmz和.kml文件将沿着原始的.tlog一边创建，这可以在google地球上打开，交互地查看3D飞行路径。 您可以打开Google Earth中的kmz文件来查看航班或路径。 只需双击该文件或拖动它并放入Google Earth。 飞行期间使用的不同飞行模式将显示为不同的彩色轨迹。 您可以更改有关飞行路径显示方式的详细信息，包括其颜色以及路径是否延伸到地面： 在左侧的“位置”窗格中查找日志文件的名称。 它应该出现在“临时位置”文件夹中。 右键单击单个路径，然后选择“属性”以打开“编辑路径”窗口。 颜色可以在“样式，颜色”选项卡上更改通过取消检查（检查）“扩展到地面的路径”，可以在“高度”选项卡上删除（添加）路径下的区域 提取参数和Waypoint 您可以按照与创建KML文件相同的步骤从tlog中提取参数和路点，但最后一步选择“Extract Params”或“Extract WPs”。 Extract Params将导致在.log文件旁创建一个.param文件。 此文件是分隔符，包含参数的完整列表（与eeprom中显示的顺序相同）及其在飞行过程中的值。 这可以在excel或文本编辑器中打开。 提取WP将创建一个或多个.txt文件，其中包含上传到APM / PX4的任务。 可以通过切换到飞行计划屏幕，右键单击地图并选择“文件加载/保存”，“加载WP文件”，在任务计划器中打开这些文件 从飞行中绘制数据 可以通过执行以下操作来绘制飞行中的数据： 打开任务计划员的飞行数据屏幕 单击遥测日志选项卡 按“Tlog> Kml或Graph”按钮 按““Graph Log””按钮 选择飞行tlog 当出现“Graph This”屏幕时，使用左或右鼠标按钮单击要显示的项目旁边的复选框。这些项目分组为“RC_CHANNELS”和“RAW_IMU”等类别 ，可打开对应的分组找到想要的栏目。 如果您使用鼠标左键，该项目的比例尺将显示在图表的左侧。 如果您使用鼠标右键，它将显示在右侧 多次点击复选框，循环显示所有可能的颜色 使用鼠标的中间轮更改图形的缩放，通过按住鼠标左键选择图形区域，或者通过鼠标右键单击图形并选择“将缩放到默认值” "},"optional-hardware/radio.html":{"url":"optional-hardware/radio.html","title":"数传遥测模块","keywords":"","body":"PIX可扩展硬件 概述： PIX是一个开放开源的控制系统，它支持很多第三方硬件，从而实现更多功能 它支持的扩展硬件主要分为以下几类： 也可以查看英文官方文档获得更多信息： http://ardupilot.org/copter/docs/common-optional-hardware.html 数传遥测模块； 如CUAV出品的: CUAV Radio :针对低成本近距离的数传模块，可选频率为433MHZ\\915MHZ，可选功率为：100mw、250mw、500mw、1W PW-LINK：WIFI串口模块，可以做近距离调试使用；兼容手机和电脑地面站 XB Radio：中等距离数据传输模块，理想环境可达10KM+ XTEND Radio：远距离视距数据传输模块，理想环境可达20KM+ HackLlink：高清视频+数传+遥控器转发为一体的数字链路，理想环境可达3KM+ GPS全球定位系统 CUAV M8 GPS: 由CUAV出品的高精度双星GPS定位模块，内置compass电子罗盘 RTK GPS: OSD FPV视频叠加模块 MINIM OSD :模拟视频飞行数据叠加模块 光流定点传感器 PX4FLOW Optical Flow Camera Board Overview PPM编码器 CUAV PPM Encoder 激光或者超声波测距模块 LightWare SF10 Lidar Lightware SF02 Lidar Maxbotic I2C Sonar Maxbotic Analog Sonar TeraRanger One Rangefinder Leddar One Lidar LIDAR-Lite Analog Sonar (AC3.1) 自动避障模块 Lightware SF40C TeraRanger Tower 降落伞 飞行摇杆或者手柄 起落架支持 精密着落 ADS-B接收机 农作物喷雾器 扩展LED灯 信号RSSI显示 ESCs UAVCAN 设备 继电器开关 "},"optional-hardware/radio/user-guide/cuav-hfight.html":{"url":"optional-hardware/radio/user-guide/cuav-hfight.html","title":"数传连接CUAV  HFight","keywords":"","body":"一、连接教程 1.首先接好天线以及ttl端与飞控的接线（接线插pixhack飞控radio口/ paxhawk TEML 1口），并给飞控供电;usb端用usb线与电脑连接 2.连接地面站，选择好对应端口以及波特率（端口可以在电脑设备管理器上看，波特率为57600），点连接，会弹出连接提示框（连接成功左上角为断开连接，一直停留在连接提示框为连接不了）。 "},"optional-hardware/radio/usb-xbee.html":{"url":"optional-hardware/radio/usb-xbee.html","title":"xbee/xtend/sx数传","keywords":"","body":"XBEE/XTEND数传使用教程 一、连接教程 1.首先接好天线以及ttl端与飞控的接线（接线插pixhack飞控radio口/ paxhawk TEML 1口），并给飞控供电;usb端用usb线与电脑连接（注意线材不要插反了） 2.连接地面站，选择好对应端口以及波特率（端口可以在电脑设备管理器上看，波特率为57600），点连接，会弹出连接提示框（连接成功左上角为断开连接，一直停留在连接提示框为连接不了）。 连接成功如下图： 3.用otg线连接app（需手机或平板支持otg功能，且有些设备可能存在兼容问题或供电不足需要独立供电问题）. 点击框内的三角符号,选择usb方式连接，点击连接。 "},"optional-hardware/radio/xbee-radio/xbee/p2p.html":{"url":"optional-hardware/radio/xbee-radio/xbee/p2p.html","title":"点对点通信","keywords":"","body":"点对点通信设置 cuav xtend出厂设置为广播模式即任意两个xtend之间可以通信，这是为了用户可以不用设置的情况下可以使用任意两端xtend，但其有一个明显的弊端：不能同时使用两个以上xtend,为解决这个问题就需要设置点对点通信。 设置前，请查阅上一节数传调试部分了解相关读取步骤。 xtend 点对点设置教程 1.读取两端全部参数，在参数设置界面，找到两端的DT和MY参数，点对点需要设置以下参数 a) A模块的DT =B模块的MY b) B模块的DT = A 模块的MY 2.修改两端的iD号，确保两端的ID号一致，但与其他模块不一致。 具体设置步骤请看数传调试界面。 XBEE/sx 点对点设置教程 1.1.读取两端全部参数，在参数设置界面，找到两端的DH和DL参数，点对点需要设置以下参数 A模块的DH=B模块的SH A模块的DL=B模块的SL B模块的DH = A模块的SH B模块的DL=A模块的SL 2.修改两端的iD和HP，确保两端的一致，但与其他模块不一致。 具体设置步骤请看数传调试界面。 "},"optional-hardware/radio/3dr-radio/3dr-radio-trouble-removal.html":{"url":"optional-hardware/radio/3dr-radio/3dr-radio-trouble-removal.html","title":"3dr数传故障排除教程","keywords":"","body":"3DR数传故障排除教程 一．无法连接： 1.检查线材有没损坏或者不良，线序有无错误的；检查数传指示灯是否亮，天线是否插好，天线接口有无松动，飞控是否正常（用usb连接是否能连接上），注意连接数传时不能连接usb，否则不能连接。 2.检查两端参数是否一致，加载参数观察两端参数是否一致，不一致修改参数至一致，一致后先做恢复设置操作，再测试是否正常。 3.用x-tcu软件测试ttl端与usb端是否能正常通信，两端连接上电脑（两端不上天线相对10cmn以下放置于桌面），打开x-tcu软件（连续点击两次打开同时打开两个相同界面）分别选择对应的端口，注意波特率为57600 点击range test,再点击star 信号柱表示信号强度一直处于高位表示并且没有一直跳出错误提示表示数传正常，一直处于低位或者没有则是通信不正常，先检查参数是否一致，恢复默认参数再测试. 4.检查飞控参数设置，飞控连接上mp地面站，点击配置->全部参数表—>找到SERIAL1_BAUD参数，确认参数是否为57，不是就修改成57，点击写入参数，重启飞控，连接数传. 二．距离近，先进行重置数传参数，再把功率调到最大，还是不行换天线测试（测试前需先确认是在开阔的地方）。 三．无法调到最大功率后无法连接，重置参数，再配置参数（先先确认设置的最大参数不超过产品最大功率限制）。 四．无端口，在设备管理上确认有无端口还是无驱动（无驱动设备显示前面有个叹号，或者驱动安装失败），请下载驱动手动安装 五．相关软件驱动链接： 3DR / XBEE / XTEND 数传驱动 32位：http://www.ftdichip.com/Drivers/CDM/CDM%20v2.12.04%20WHQL%20Certified.zip 64位： http://www.ftdichip.com/Drivers/CDM/CDM%20v2.12.04%20WHQL%20Certified.zip xbee资料：http://pan.baidu.com/s/1sjsrpUX（里面有x-ctu软件） "},"optional-hardware/radio/3dr-radio/3dr-debug.html":{"url":"optional-hardware/radio/3dr-radio/3dr-debug.html","title":"3DR数传调试教程","keywords":"","body":"3DR数传调试教程 1.用ttl小板连接数传ttl端与电脑，usb接电脑。 打开mp地面站，读取参数(选择对应的端口，波特率为57600，不需要点连接，打开初始设置—>可选硬件->sik电台—>加载设置；左右分别为近端和远端参数（注意有没加载到远端参数，没有加载到修改参数就需要分两次选择ttl端以及usb端端口加载对应的设置参数，并修改保存设置，加载到可以两端参数一起修改，并保存设置，注意两端参数必须一致否则无法连接） 3.恢复默认参数：加载参数之后按重置参数（两端需要单独恢复）。4.修改ID（修改ID可以避免两对相同数传干扰，使其可以同时使用），加载参数后，修改网络id选项，再点击保存，注意两端id必须一致否则无法连接。 5.修改发射功率,加载参数后，修改发射功率项，保存设置（10为250mw，20为500mw，数传有最大功率限制，可调最大功率看产品信号，如100mw最大只能调到100mw） "},"optional-hardware/radio/3dr-radio/3dr-radio.html":{"url":"optional-hardware/radio/3dr-radio/3dr-radio.html","title":"3dr数传使用教程","keywords":"","body":"3DR使用教程 1.首先接好天线以及ttl端与飞控的接线（接线插pixhack飞控radio口/ paxhawk TEML 1口），并给飞控供电;usb端用usb线与电脑连接。 2.连接地面站，选择好对应端口以及波特率（端口可以在电脑设备管理器上看，波特率为57600），点连接，会弹出连接提示框（连接成功左上角为断开连接，一直停留在连接提示框为连接不了）。 "},"optional-hardware/link.html":{"url":"optional-hardware/link.html","title":"数传图传一体链路","keywords":"","body":"数传图传一体链路 概述 按照 传统的方式，如无人机需要实现数据传输及图像传输，则需要有数传接收机、数传发射机、图传接收机、图传发射机发以及相机和云台等多样设备，这就带来了布线困难、体积庞大、设备间干扰严重等问题！为解决这些问题，数传图传一体机就应运而生了！ CUAV目前推出了低中高端数传图传一体链路以满足普通玩家及行业用户不同的需求。 CUAV数传图传一体链路产品简介： HACK_LINK: 概述 HackLink 一款高清图传和数据传输一体的无人机数字链路系统 支持 720P 高清视频传输及 MAVLINK 协议，并支持 PPM & SBUS 遥控器信号转发 实现一个链路系统即可对无人机实时高清视频回传、无人机数据交互及无人机的实时控制 双路 mino 技术，标配全向天线距离 3KM，并可按需选择 2.4G 或者 5.8G 频道 采用高性能的恩智浦 IMX6 处理器，运行 LINUX 系统，拥有强大的二次开发余地（并兼容 3DR SOLO 开发环境） 地面站端内置 OLED 屏，可显示飞行相关状态 HDMI 输出，可外接 HDMI 显示器及 HDMI 视频眼镜 使用 链接：doc.cuav.net/hacklink ONE BOX 概述： ONE BOX是由CUAV自主开发针对Mavlink飞行控制器的模拟图传数传一体化接收机 内置 500MW SIK数传（915Mhz/433Mhz） 内置 5.8G 42通道 高灵敏度视频接收机 内置OLED 128*64显示屏及微处理器，可以显示飞行状态及视频状态 通过MICRO USB接口接入手机或者电脑可以同时获得实时飞行视频以及无人机Mavlink数据 使用使用链接：doc.cuav.net/onebox "},"optional-hardware/image-transmission.html":{"url":"optional-hardware/image-transmission.html","title":"模拟图传","keywords":"","body":"模拟图传 CUAV_ VMR32 5.8G模拟图传接收机 概述： VMR32是有CUAV自主研发的业内首款用于移动设备的5.8G视频接收机，通过手机或者平板设备，即可实时预览5.8G的无线视频 特性： 5.8G无线视频接收 具有32全频道的视频接收能力，兼容市面上几乎所有5.8G视频发射机. 闪电搜频 内置闪电搜频技术：通过32位高速处理器进行快速频道信号强度搜索，能再数秒内发现和确认存在视频信号的频段 OLED显示屏 内置128X64分辨率自主发光OLED显示屏，户外可视；可以显示信号强度、当前频道、供电电压状态 移动设备免驱支持 VMR32是一款标准UVC免驱设备，支持大多数安卓设备、Windows电脑 甚至 LINUX设备 AR（AugmentedReality）增强现实 支持 通过 口袋FPV APP软件，将实时视频划将 左、右眼所看的图像各自独立分开，通过CUAV VR眼镜，实现手机屏幕超低成本的 沉浸式飞行视频享受 CNC一体成形外壳 采用航空铝合金CNC一体成型外壳，外形精美，有效避免干扰和利于散热 视频流输出 支持AV视频输出，可以扩展显示屏 使用链接：doc.cuav.net/onebox 购买链接：https://item.taobao.com/item.htm?id=524007628659&spm=2014.21600712.0.0 CUAV其它在售模拟图传： 锐鹰 32频点 5.8g图传发射机 锐鹰图传发射机有600mw、1w、2w等不同功率型号可选，其具有质量好、稳定性高、耐用性好等特点。 600mw购买链接：https://item.taobao.com/item.htm?id=526470321568&spm=2014.21600712.0.0 1W购买链接：https://item.taobao.com/item.htm?id=532088934734&spm=2014.21600712.0.0 2W购买链接：https://item.taobao.com/item.htm?id=532088934734&spm=2014.21600712.0.0 "},"optional-hardware/power-modules/power-modules.html":{"url":"optional-hardware/power-modules/power-modules.html","title":"PM电源模块","keywords":"","body":"CUAV标准电压电流检测及供电模块 这个页面主要介绍PIXHACK飞控标配的PM模块如何设置和使用 概述： Pixhack在附件中，会标配一个PM模块，支持10-35V电压输入及60A电流检测 它主要有3个功能： 提供5.2V电压输出及最大3A电流 给飞控供电 检测当前电压输出模拟信号给飞控 检测当前系统电流输出模拟信号给飞控 因为PIX飞控ADC最大检测电压为3.3，所以最大只能支持60A电流检测 它的使用很简单，带有芯片的面向你，左边是接电池，右边是接负载（马达 电调） 6P的信号线插入到飞控的POWER接口 地面站设置： 使用USB或者数传连接到地面站 初始设置>>可选硬件>> 电池检测器 选择 监控器：4；传感器 4；APM版本 4 手动校准： 因为PM模块是模拟传感器器件，都可能会存在一定的差异性可以校准参数获得比较好的准确性校准前准备：1：万用表或者BB响 （校准电压使用）2：高精度的可控负载源如数字负载（校准电流使用）如果没有数字负载，只能校准电压（一般玩家都没有，不校准的话，一般误差都在1-3A左右）校准电压步骤：1：使用电池供电，以及连接上地面站2：使用万用表或者BB响测量当前电池电压3：选择 传感器版本 为0，在测量的电池电压 输入 当前测量出来的电压 填进去框里，随便点一下鼠标或者按一下TAB键，地面站会自动计算一个分压比系数和自动保存写入到飞控4：校准完成，不校准电流的话， 安培每伏不要去改变，默认是18.0018 "},"optional-hardware/power-modules/hv-pm.html":{"url":"optional-hardware/power-modules/hv-pm.html","title":"HV_PM高电压电源模块","keywords":"","body":"CUAV_HV_PM高精度高电压电源模块 这个页面主要介绍PIXHACK飞控标配的PM模块如何设置和使用 概述： CUAV HV_PM模块是cuav独立研制的新款高压电压电源模块，具有以下特征： 支持更高的输入电压：10v-60v（3s~14s电池） 更精准的电流电压检测：电压检测精度：+—0.1v;电流检测精度：+-0.2aA 支持更高的power口输出电流：5A 最大(检测)电流：60A 最大输出电流：60A 它主要有3个功能： 提供5V电压输出及最大5A电流 给飞控供电 检测当前电压输出模拟信号给飞控 检测当前系统电流输出模拟信号给飞控 因为PIX飞控ADC最大检测电压为3.3，所以最大只能支持60A电流检测。 它的使用很简单，带有芯片的面向你，左边是接电池，右边是接负载（马达 电调） 6P的信号线插入到飞控的POWER接口 地面站设置： 使用USB或者数传连接到地面站 初始设置>>可选硬件>> 电池检测器 选择 监控器：4；传感器 0；APM版本 4;填入分压比18；填入安培每伏：24 手动校准电压： 因为PM模块是模拟传感器器件，都可能会存在一定的差异性可以校准参数获得比较好的准确性校准前准备：1：万用表或者BB响 （校准电压使用）如果没有数字负载，只能校准电压校准电压步骤：1：使用电池供电，以及连接上地面站2：使用万用表或者BB响测量当前电池电压3：选择 传感器版本 为0，在测量的电池电压 输入 当前测量出来的电压 填进去框里，随便点一下鼠标或者按一下TAB键，地面站会自动计算一个分压比系数和自动保存写入到飞控4：校准完成，电流无需校准。 "},"optional-hardware/power-modules/cpbd.html":{"url":"optional-hardware/power-modules/cpbd.html","title":"CPBD高压分电板","keywords":"","body":"CPBD高精度高电压电源模块 这个页面主要介绍CPBP高精度高电压分电模块如何设置和使用 概述： CUAV CPBD模块是cuav独立研制的新款高压分电模块，具有以下特征： 支持更高的输入电压：10v-60v（3s~14s电池） 更精准的电流电压检测：电压检测精度：+—0.1v;电流检测精度：+-0.2A 更高的power口输出电流：5A 最大(检测)电流：60A 更丰富的电源扩展 CUAV CPBD模块是cuav独立研制的新款高压分电模块，具有以下特征： 支持更高的输入电压：10v-60v（3s~14s电池） 更精准的电流电压检测：电压检测精度：+—0.1v;电流检测精度：+-0.2A 更高的power口输出电流：5A 最大(检测)电流：60A 最大输出电流：60A 更丰富的电源扩展 它主要有以下功能： 提供双路5V电压及最大5A电流输出，可同时给飞控及高功率数传供电 检测当前电压输出模拟信号给飞控 检测当前系统电流输出模拟信号给飞控 最多可同时输出8组电源（电压约等于电池电压） 因为PIX飞控ADC最大检测电压为3.3，所以最大只能支持60A电流检测。 接口： 1.接电池正极接口 2.电池负极接口 3.高压电调/降压模块电源正极接口（输出电压约等于电池电压，接入设备耐压值应高于电池电压） 4.高压电调/降压模块电源负极接口（输出电压约等于电池电压，接入设备耐压值应高于电池电压） 6P的信号线插入到飞控的POWER接口 地面站设置： 使用USB或者数传连接到地面站 初始设置>>可选硬件>> 电池检测器 选择 监控器：4；传感器 0；APM版本 4;填入分压比18；填入安培每伏：24 {#选择-监控器：4；传感器-0；apm版本-4填入分压比18；填入安培每伏：24} 手动校准电压： 因为PM模块是模拟传感器器件，都可能会存在一定的差异性可以校准参数获得比较好的准确性校准前准备：1：万用表或者BB响 （校准电压使用）校准电压步骤：1：使用电池供电，以及连接上地面站2：使用万用表或者BB响测量当前电池电压3：选择 传感器版本 为0，在测量的电池电压 输入 当前测量出来的电压 填进去框里，随便点一下鼠标或者按一下TAB键，地面站会自动计算一个分压比系数和自动保存写入到飞控4：校准完成，电流无需校准。**** "},"optional-hardware/gps/gps.html":{"url":"optional-hardware/gps/gps.html","title":"ublox gps模块","keywords":"","body":"CUAV GPS型号 cuav GPS有m8n、m7n、m6h、minigps等型号 cuav gps简介 GPS使用 插在pixhack gps插口上（飞控外壳有标识） 插在pixhawk gps与i2c插口上（飞控外壳有标识） 注：cuav gps内部集成了指南针与gps，其中指南针需要冷启动才能启动（即需插上再上电/或插上断电重启）；gps定位需要放置在开阔的户外。 GPS状态显示 MP地面站一共有四处可以看GPS状态 1.GPS1状态指示，显示：无gps》未检测到gps；未定位》识别到gps但未定位成功；3D fix>GPS定位成功。 2.gpsstatus：gps1状态代码。1：识别到gps但未定位; gpshdop：定位精度,良好的定位精度应低于0.8; satcount：卫星数量 3.gpsstatus2:gps2状态代码 gpshdop2：gps2定位精度,良好的定位精度应低于0.8; satcount2：gps2卫星数量 "},"optional-hardware/gps/rtk.html":{"url":"optional-hardware/gps/rtk.html","title":"rtk 差分gps","keywords":"","body":""},"optional-hardware/buzzer.html":{"url":"optional-hardware/buzzer.html","title":"安全开关和蜂鸣器","keywords":"","body":"蜂鸣器和安全开关 pixhawk蜂鸣器 蜂鸣器（或报警器）用于播放各种声音，包括解锁声和丢失的直升机错误报警。 安装蜂鸣器 蜂鸣器发出的声音可能会影响加速度计，如果放在太靠近飞行控制器的位置，会导致蜂鸣器启动时的高度保持性能不佳。 理想情况下，蜂鸣器应安装在离飞行控制器至少5厘米处，扬声器（即裸眼）不应直接指向飞行控制器。 通过设置以下参数可以禁用蜂鸣器： 设置NTF_BUZZ_ENABLE = 0禁用蜂鸣器 pixhawk安全开关 可以使用安全开关启用/禁用电机和伺服的输出。 led含义 持续闪烁 - 系统正在初始化 间歇闪烁 - 系统已准备就绪,长按可使其常亮 常亮:安全开关开启，信号输出，等待遥控器解锁。 一旦飞行器被解锁，安全开关被按下，马达和舵机能够驱动。 配置安全开关 BRD_SAFETYENABLE = 0禁用开关 BRD_SAFETY_MASK可用于设置使用安全开关启用/禁用哪些独立通道 使用安全开关强制I / O板固件更新 如果在Pixhawk启动后的最初几秒内按住安全开关，I / O固件将重新加载。 这通常不是必需的，但在极少数情况下，如果在启动后听到“启动失败”的声音，则需要固件上载后（请参阅wiki页面）。 PIXAHCK安全开关与蜂鸣器 cuav安全开关是蜂鸣器与安全开关一体的模块，具有易安装、体积小的特点。其具有上述pixhawk安全开关和蜂鸣器的全部功能，设置方法也完全一致。 "},"optional-hardware/ppm-encoder.html":{"url":"optional-hardware/ppm-encoder.html","title":"PPM编码器","keywords":"","body":"PPM编码器 PPM编码器允许将多达8个PWM（脉冲宽度调制）信号编码成一个PPM（脉冲位置调制）信号。 安装说明 "},"optional-hardware/relay-switch.html":{"url":"optional-hardware/relay-switch.html","title":"继电器开关","keywords":"","body":"继电器开关 “继电器”是APM或Pixhawk上的数字输出引脚，可以在0V和3.3V（Pixhawk）或5V（APM2）之间切换。 与伺服类似，它允许飞行控制器从车辆上的另一个装置调用一些动作。 在Copter，Plane和Rover中，最多可以将4个引脚定义为继电器。 Pixhawk/pixahck上的继电器引脚 Pixhawk AUX OUT 5（引脚54）和AUX OUT 6（引脚55）分别设置为“第一”（或＃0）和“第二”（或＃1）继电器。 通过减少用作伺服输出的AUX引脚的数量，可用继电器的数量可以增加到最多6个。 可以通过BRD_PWM_COUNT修改继电器数量。 APM2上的继电器引脚 在APM2上，A9（引脚9）是推荐用作继电器的引脚。 事实上，A0〜A8的任何一个引脚都可以作为继电器使用，但是必须通过Mission Planner的完整参数列表手动设置RELAY_PIN参数（“0”〜“8”）。 通过Mission Planner定义继电器引脚 使用任务规划器的配置/调谐屏幕的标准参数列表，可以最容易地定义第一〜第四个继电器引脚，如下所示。 或者，如果您知道要使用的确切引脚编号，则可以直接通过任务计划程序的完整参数列表设置RELAY_PIN参数。 继电器的先导控制 在Copter 3.2（及更高版本）上，可以使用Ch7 / Ch8开关控制“First”继电器。 继电器的任务控制 与伺服类似，使用Do-Set-Relay任务命令可以在任务期间激活继电器。 wiki原文介绍链接：http://ardupilot.org/copter/docs/common-relay.html "},"optional-hardware/rssi.html":{"url":"optional-hardware/rssi.html","title":"RSSI信号强度指示","keywords":"","body":"RSSI信号强度指示 rssi是飞控接收到的信号强度参数，下面介绍一下如何设置rssi： 1.硬件连接，请把需要监测的rssi信号强度设备接入飞控rssi/sbus接口（飞控外壳标识，飞控上排排针为gnd,中间为vcc，下面为信号线。 2.软件设置,打开mp地面站，连接上飞控》配置/调试界面》全部参数表》搜索rssi>修改rssianapin为103》修改rssi_pin_high为3.3（可根据自己设备修改）》修改rssi_type为1》写入参数 3.rssi信号强度在地面站hud显示 来自UHF系统的嵌入式PWM（Pixhawk） EZ-UHF和OpenLRS都可以选择将RSSI嵌入到PWM通道中，使您无需添加滤波器等。您可以使用通道5或通道5以上的任何通道，但保持通道9伺服通道未被使用。 设置您的UHF系统，将RSSI嵌入到所需的通道中，然后更改以下参数： RSSI_ANA_PIN：103 RSSI_TYPE：2 RSSI_CHANNEL：您想要输入的通道。 "},"optional-hardware/uavcan-escs.html":{"url":"optional-hardware/uavcan-escs.html","title":"CAN通信电调","keywords":"","body":"UAVCAN 电调 直升机，飞机和汽车固件支持UAVCAN电子速度控制器（ESC），允许与飞行控制器进行双向通信，从而可以更容易地设置ESC和监控飞行中的电机运行状况。 连接pixahwk 一个电调（将uavcan电调df13 4pin接口连接到Pixhawk的CAN端口）； 每个后续的电调应使用4针UAVCAN电缆连接到以前的电缆。 最后的电调应该有一个CAN总线终端插入其中一个4针UAVCAN端口。 FTDI电缆连接仅用于下面讨论的一次性设置。 或者，可以使用UAVCAN GUI工具通过CAN总线配置电调。 使用CLI进行ESC设置 每个ESC必须使用FTDI电缆进行一次性手动设置，以定义其UAVCAN节点ID和电机编号。在未来版本的ardupilot中，这将被使用Mission planner（和其他GCS）的设置程序取代。 设置方法： 将FTDI电缆连接到电调的“开发人员端口”，如上图所示。 用电池给电调上电 使用终端程序（如Putty）使用FTDI电缆的COM端口连接到电调，使用串行115200波特率 按Enter键进入终端，出现“ch>”提示 键入cfg list以查看完整的参数列表 在电动机＃1上（即四边形上的右前方），通过键入以下内容将uavcan_node_id设置为“10”并将esc_index设置为“0” cfg set uavcan_node_id 10 cfg set esc_index 0 cfg保存（保存配置） 重启 测试电机动作： 直流臂（启用输出） dc 0.2（以20％旋转电机） dc（停止电机） 对每台电机都有一个node-id和索引1比前一个更高的电机重复2号电机（在一个quad的左后方），＃3，＃4等等（事实上，只要node-id是独特）。 本文引自：http://ardupilot.org/copter/docs/common-uavcan-escs.html "},"optional-hardware/external-led.html":{"url":"optional-hardware/external-led.html","title":"外置led","keywords":"","body":"外部LED 本文介绍如何连接外部LED。 Pixhawk的外部LED 可以通过连接Pixhawk的I2C端口来添加外部Pixhawk LED。 由于大多数用户使用Ublox GPS和Compass模块，推荐使用I2C转接板。 一旦连接，Pixhawk上的主LED将不会亮。 PIXHACK 的外部LED pixhack将外置led的i2c接口嵌入到了dbus op端子里，可以通过 使用外置led配线连接外置led，为方便i2c设备扩展需要连接i2c转接板。 "},"optional-hardware/airspeed.html":{"url":"optional-hardware/airspeed.html","title":"空速计","keywords":"","body":"使用空速传感器 空速传感器是固定翼专用配件，这可以帮助在有风的条件下，缓慢的飞行和自主着陆。 以下部分介绍如何将传感器连接到飞行控制器。 安装空速传感器后，不要忘记校准！ Pixhawk数字空速引脚 Pixhawk可以使用这种数字空速传感器。 将空速传感器连接到Pixhawk的I2C端口（或I2C转接板模块）。 启用数字空速传感器 连接地面站》切换到初始设置部分（Mission Planner |硬件|可选硬件|空速）中选择类型勾选启用，如下图示。 使用模拟空速计 PIXHACK/PIXAHWK支持模拟空速计 pixhack/pixhawk模拟输入引脚 pixhack/pixhawk有2个模拟输入引脚，分别为adc3.3/adc6.6. cuav 模拟空速计需要连接到pixhack /pixhawk adc 3.3引脚上。 启用模拟空速传感器 连接地面站》切换到初始设置部分（Mission Planner |硬件|可选硬件|空速）中选择pixhawk Analog As port勾选启用。 安装皮托管 将空速传感器放入飞机中时，请皮托管套件。 在EasyStar的情况下，您需要将管子顶部穿过驾驶舱内的泡沫，才可以完全接触到气流（首先在泡沫中钻孔或切割一个小孔）。 确保管子侧面的孔没有被堵塞。 它们应该至少伸出 机头1厘米。 首先将两个出来的管子连接到空速传感器上。 直接从后面出来的管应该进入顶端口，并且以一定角度出来的管应该连接到空速传感器的底端口。 如果您的飞机前方有螺旋桨，必须将皮托管安装在一个机翼上，或者至少在机身下方以避开螺旋桨气流。 校准空速计 手动校准： 将空速计安装后需要进行校准，校准需确保周围没有风，否则会影响校准的效果。 校准操作：连接上mission planner，打开飞行数据界面下的动作栏，点击下方动作选择框选择PREFLIGHT_CALIBRATE点击执行动作（校准过程中切勿动空速计）。 自动校准：为确保安全不建议使用。 本文英文参考：http://ardupilot.org/plane/docs/airspeed.html "},"optional-hardware/parachute.html":{"url":"optional-hardware/parachute.html","title":"降落伞","keywords":"","body":"降落伞 本主题介绍如何设置手动和自动降落伞释放。 警告 在Copter 3.2中引入了对此功能的支持。 此功能仍然是实验性的，应谨慎使用。 连接到Pixhawk 降落伞版本可以从继电器或触发机制 PWM(即伺服),但因为一个问题与继电器引脚被拉在启动高,我们 建议使用PWM,特别是Pixhawk的任何辅助1到4 别针。 通过mission planner计划 要配置降落伞释放，请先连接Mission Planner，然后打开配置 / 调试>> 全部参数表页面并设置以下参数。 CHUTE_ENABLED =“1” CHUTE_TYPE =“10”用伺服释放 应将CHUTE_SERVO_ON设置为释放降落伞所需的伺服位置 CHUTE_SERVO_OFF应该是“静止”伺服位置。即 在释放降落伞之前伺服的位置 如果使用AC3.5（或高）设置SERVO9_FUNCTION =“27”。 SERVO9_引用Pixhawk的AUX OUT 1.要使用AUX OUT2而不是将SERVO10_FUNCTION设置为27等。 如果使用AC3.4.6（或更低）设置RC9_FUNCTION =“27”。 RC9_引用Pixhawk的AUX OUT 1.要使用AUX OUT2而不是将RC10_FUNCTION设置为27等。 设置Ch7从Mission Planner的扩展调整页面手动设置降落伞。 降落伞何时会开启？ 当“碰撞检查”功能确定飞行器失去姿态控制并开始下落时，电机将停止，降落伞将自动展开。对于碰撞检查器触发降落伞的释放，需要保持2秒都是满足以下条件： 电机装备好了 飞行器不是“降落”（如果输出油门小于25％，电机达到下限，飞行器旋转超过20度 / 秒，不是飞行员要求降落，这个姿态保持不超过一秒 飞行器会认为是自己降落） 飞行器不处于FLIP或ACRO飞行模式 飞行器的侧倾角和/或俯仰角相对于目标倾斜角偏差大于20度 气压计测量出飞行器没有爬升 飞行器高于CHUTE_ALT_MIN高度 "},"optional-hardware/osd.html":{"url":"optional-hardware/osd.html","title":"OSD","keywords":"","body":"Minim OSD快速安装指南 MinimOSD“屏幕显示”是一种小型电路板，用于从您的APM或Pixhawk飞行控制器中提取遥测数据，并将其覆盖在显示器上 。 概述 要连接到Pixhawk，请使用此DF13 6针电缆连接到TELEM2端口。 要连接到APM 2.5和2.6，请使用5P Y线，以便将遥测端口连接到SiK Radio和MinimOSD。 "},"troubleshooting.html":{"url":"troubleshooting.html","title":"故障排除指南","keywords":"","body":""},"simulation.html":{"url":"simulation.html","title":"SITL模拟器","keywords":"","body":"SITL模拟器（循环中的软件） SITL（循环中的软件）模拟器允许您在没有任何硬件的情况下运行Plane，Copter或Rover。 它是使用普通C ++编译器构建的自动驾驶仪代码，为您提供了一个本机可执行文件，允许您在没有硬件的情况下测试代码的行为。 本文概述了SITL的优势和体系结构。 SITL允许您直接在PC上运行ArduPilot，无需任何特殊硬件。 它利用了ArduPilot是一个可以在各种平台上运行的便携式自动驾驶仪。 您的PC只是ArduPilot可以构建和运行的另一个平台。 在SITL中运行时，传感器数据来自飞行模拟器中的飞行动力学模型。 ArduPilot拥有多种内置的飞行器模拟器，可以连接到几个外部模拟器。 这使得ArduPilot可以在各种类型的模型上进行测试。 例如，SITL可以模拟： 多旋翼飞机 固定翼飞机 地面车辆 相机的万向节 天线跟踪器 各种可选的传感器，如激光雷达和光学流量传感器 添加新的模拟飞行器类型或传感器类型很简单。 ArduPilot在SITL上的一大优势是它可以让您访问桌面C ++开发所需的各种开发工具，如交互式调试器，静态分析器和动态分析工具。 这使得开发和测试ArduPilot的新功能变得更加简单。 运行SITL APM SITL环境上运行了 Linux和Windows。 指令看设置SITL Linux上和在Windows上设置SITL为更多的信息。 SITL架构 注意下面的图像端口号仅供参考，可能会有所不同。 例如，ArduPilot和图像上的模拟器之间的端口是5501/5502，但根据您的环境，它们可能会变成5504/5505或其他端口号。 SITL on Linux SITL on Windows SITL on Windows in a VM SITL using Vagrant Copter SITL/MAVProxy Tutorial ArduPilot Testing using SITL Using Gazebo Simulator with SITL Using Last_letter Simulator with SITL Using the CRRCSim simulator Using X-Plane 10 with SITL Soaring SITL with X-Plane "}}