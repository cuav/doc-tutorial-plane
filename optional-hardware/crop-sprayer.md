## 农作物喷雾器 {#农作物喷雾器}

---

3.4（及更高）的直升机（多旋翼）固件添加了对农作物喷雾器的支持。 该功能允许飞行控制器连接到PWM操作泵和（可选）旋转器，基于飞行速度来控制液体肥料的流量。

### 所需的硬件 {#所需的硬件}

![](http://doc.cuav.net/PixHack/assets/ENR.jpg)

EnRoute AC 940-D采用PWM控制泵和可选的PWM控制旋转机构

泵控制肥料的流量。

可选的旋转器应连接到喷嘴的末端，并将肥料分配到更广阔的区域。

---

### 启用喷雾器 {#启用喷雾器}

* 将您的飞行控制器连接到地面站（即MISSION PLANNER）

* 将SPRAY\_ENABLE参数设置为1并刷新参数（喷雾器不是常用功能，所以其他参数最初是隐藏的）

* 将泵连接到飞行控制器的辅助PWM输出之一（如Pixhawk AUX1），并将相应的SERVO \* \_ FUNCTION或RC \* \_FUNCTION设置为22（其中“\*”是RC输出编号，即如果泵连接到Pixhawk AUX1，将SERVO9\_FUNCTION设置为22）。

* 将可选的微调器连接到另一个辅助输出端口，并将SERVO \* \_FUNCTION或RC \* \_FUNCTION设置为23（即，如果使用Pixhawk的AUX2，则将SERVO10\_FUNCTION设置为23）

* 为了允许飞行员打开/关闭喷雾器，将辅助开关（即CH7\_OPT）设置为“15”

注意  
:

在Copter 3.5（及更高版本）中，RCx\_FUNCTION参数被重命名为SERVOx\_FUNCTION，以更好地将它们的含义与RC输入分离。

---

### 配置泵 {#配置泵}

用于控制泵和微调器的PWM范围可通过设置与泵和微调器连接的pwm输出通道对应的SERVO \* \_MIN / RC \* \_MIN，SERVO \* \_MAX / RC \* \_MAX参数进行配置。

SPRAY\_PUMP\_MIN控制最小泵送速率（以百分比表示）。 默认情况下，这是0％，这意味着如果飞行器停止移动，泵将完全停止。

当飞行器以1m / s行驶时，SPRAY\_PUMP\_RATE控制泵的速率（以百分比表示）。 默认情况下是10％。 泵速率随着飞行速度线性增加，默认情况下泵将在10m / s时达到100％。

SPRAY\_SPINNER设置泵打开时发送给微调器的pwm值。

SPRAY\_SPEED\_MIN设置泵运行的最低飞行速度（以cm / s为单位）。 默认值为100表示当飞行器以1m / s或更高的速度飞行时，泵开始运行。

